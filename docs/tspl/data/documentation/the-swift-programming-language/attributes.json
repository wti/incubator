{"sections":[],"hierarchy":{"paths":[["doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language"]]},"metadata":{"title":"Attributes"},"identifier":{"url":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Attributes","interfaceLanguage":"swift"},"schemaVersion":{"major":0,"minor":3,"patch":0},"kind":"article","primaryContentSections":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"There are two kinds of attributes in Swift —"},{"type":"text","text":" "},{"text":"those that apply to declarations and those that apply to types.","type":"text"},{"text":" ","type":"text"},{"text":"An attribute provides additional information about the declaration or type.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"For example,"},{"type":"text","text":" "},{"type":"text","text":"the "},{"code":"discardableResult","type":"codeVoice"},{"text":" attribute on a function declaration indicates that,","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"although the function returns a value,"},{"text":" ","type":"text"},{"type":"text","text":"the compiler shouldn’t generate a warning if the return value is unused."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"You specify an attribute by writing the "},{"type":"codeVoice","code":"@"},{"type":"text","text":" symbol followed by the attribute’s name"},{"type":"text","text":" "},{"type":"text","text":"and any arguments that the attribute accepts:"}]},{"type":"codeListing","syntax":"swift","code":["@<#attribute name#>","@<#attribute name#>(<#attribute arguments#>)"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Some declaration attributes accept arguments"},{"text":" ","type":"text"},{"text":"that specify more information about the attribute","type":"text"},{"type":"text","text":" "},{"type":"text","text":"and how it applies to a particular declaration."},{"type":"text","text":" "},{"text":"These ","type":"text"},{"inlineContent":[{"type":"text","text":"attribute arguments"}],"type":"emphasis"},{"type":"text","text":" are enclosed in parentheses,"},{"type":"text","text":" "},{"type":"text","text":"and their format is defined by the attribute they belong to."}]},{"type":"paragraph","inlineContent":[{"text":"Attached macros and property wrappers also use attribute syntax.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"For information about how macros expand,"},{"type":"text","text":" "},{"text":"see ","type":"text"},{"type":"reference","identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Expressions#Macro-Expansion-Expression","isActive":true},{"type":"text","text":"."},{"type":"text","text":" "},{"text":"For information about property wrappers,","type":"text"},{"type":"text","text":" "},{"text":"see ","type":"text"},{"identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Attributes#propertyWrapper","type":"reference","isActive":true},{"type":"text","text":"."}]},{"text":"Declaration Attributes","anchor":"Declaration-Attributes","type":"heading","level":2},{"inlineContent":[{"text":"You can apply a declaration attribute to declarations only.","type":"text"}],"type":"paragraph"},{"level":3,"anchor":"attached","type":"heading","text":"attached"},{"inlineContent":[{"text":"Apply the ","type":"text"},{"type":"codeVoice","code":"attached"},{"type":"text","text":" attribute to a macro declaration."},{"type":"text","text":" "},{"type":"text","text":"The arguments to this attribute indicate the macro’s role."},{"type":"text","text":" "},{"text":"For a macro that has multiple roles,","type":"text"},{"type":"text","text":" "},{"text":"apply the ","type":"text"},{"type":"codeVoice","code":"attached"},{"text":" macro multiple times, once for each role.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"text":"The first argument to this attribute","type":"text"},{"type":"text","text":" "},{"type":"text","text":"indicates the macros role:"}],"type":"paragraph"},{"type":"termList","items":[{"definition":{"content":[{"inlineContent":[{"type":"text","text":"Write "},{"code":"peer","type":"codeVoice"},{"text":" as the first argument to this attribute. The type that implements the macro conforms to the ","type":"text"},{"code":"PeerMacro","type":"codeVoice"},{"type":"text","text":" protocol. These macros produce new declarations in the same scope as the declaration that the macro is attached to. For example, applying a peer macro to a method of a structure can define additional methods and properties on that structure."}],"type":"paragraph"}]},"term":{"inlineContent":[{"text":"Peer macros","type":"text"}]}},{"definition":{"content":[{"inlineContent":[{"type":"text","text":"Write "},{"type":"codeVoice","code":"member"},{"text":" as the first argument to this attribute. The type that implements the macro conforms to the ","type":"text"},{"type":"codeVoice","code":"MemberMacro"},{"text":" protocol. These macros produce new declarations that are members of the type or extension that the macro is attached to. For example, applying a member macro to a structure declaration can define additional methods and properties on that structure.","type":"text"}],"type":"paragraph"}]},"term":{"inlineContent":[{"text":"Member macros","type":"text"}]}},{"definition":{"content":[{"inlineContent":[{"text":"Write ","type":"text"},{"type":"codeVoice","code":"memberAttribute"},{"text":" as the first argument to this attribute. The type that implements the macro conforms to the ","type":"text"},{"type":"codeVoice","code":"MemberAttributeMacro"},{"text":" protocol. These macros add attributes to members of the type or extension that the macro is attached to.","type":"text"}],"type":"paragraph"}]},"term":{"inlineContent":[{"text":"Member attribute","type":"text"}]}},{"definition":{"content":[{"inlineContent":[{"text":"Write ","type":"text"},{"type":"codeVoice","code":"accessor"},{"type":"text","text":" as the first argument to this attribute. The type that implements the macro conforms to the "},{"code":"AccessorMacro","type":"codeVoice"},{"text":" protocol. These macros add accessors to the stored property they’re attached to, turning it into a computed property.","type":"text"}],"type":"paragraph"}]},"term":{"inlineContent":[{"type":"text","text":"Accessor macros"}]}},{"term":{"inlineContent":[{"type":"text","text":"Extension macros"}]},"definition":{"content":[{"inlineContent":[{"text":"Write ","type":"text"},{"type":"codeVoice","code":"extension"},{"type":"text","text":" as the first argument to this attribute. The type that implements the macro conforms to the "},{"code":"ExtensionMacro","type":"codeVoice"},{"text":" protocol. These macros can add protocol conformance, a ","type":"text"},{"type":"codeVoice","code":"where"},{"type":"text","text":" clause, and new declarations that are members of the type the macro is attached to. If the macro adds protocol conformances, include the "},{"code":"conformances:","type":"codeVoice"},{"type":"text","text":" argument and specify those protocols. The conformance list contains protocol names, type aliases that refer to conformance list items, or protocol compositions of conformance list items. An extension macro on a nested type expands to an extension at the top level of that file. You can’t write an extension macro on an extension, a type alias, or a type that’s nested inside a function, or use an extension macro to add an extension that has a peer macro."}],"type":"paragraph"}]}}]},{"inlineContent":[{"text":"The peer, member, and accessor macro roles require a ","type":"text"},{"code":"names:","type":"codeVoice"},{"text":" argument,","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"listing the names of the symbols that the macro generates."},{"type":"text","text":" "},{"type":"text","text":"The extension macro role also requires a "},{"type":"codeVoice","code":"names:"},{"text":" argument","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"if the macro adds declarations inside the extension."},{"text":" ","type":"text"},{"text":"When a macro declaration includes the ","type":"text"},{"type":"codeVoice","code":"names:"},{"type":"text","text":" argument,"},{"text":" ","type":"text"},{"text":"the macro implementation must generate","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"only symbol with names that match that list."},{"type":"text","text":" "},{"type":"text","text":"That said,"},{"type":"text","text":" "},{"type":"text","text":"a macro need not generate a symbol for every listed name."},{"type":"text","text":" "},{"type":"text","text":"The value for that argument is a list of one or more of the following:"}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"code":"named(<#name#>)","type":"codeVoice"},{"type":"text","text":" "},{"text":"where ","type":"text"},{"type":"emphasis","inlineContent":[{"type":"text","text":"name"}]},{"type":"text","text":" is that fixed symbol name,"},{"text":" ","type":"text"},{"type":"text","text":"for a name that’s known in advance."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"overloaded"},{"type":"text","text":" "},{"text":"for a name that’s the same as an existing symbol.","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"prefixed(<#prefix#>)"},{"type":"text","text":" "},{"text":"where ","type":"text"},{"inlineContent":[{"text":"prefix","type":"text"}],"type":"emphasis"},{"type":"text","text":" is prepended to the symbol name,"},{"text":" ","type":"text"},{"type":"text","text":"for a name that starts with a fixed string."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"suffixed(<#suffix#>"},{"type":"text","text":" "},{"type":"text","text":"where "},{"type":"emphasis","inlineContent":[{"text":"suffix","type":"text"}]},{"type":"text","text":" is appended to the symbol name,"},{"text":" ","type":"text"},{"text":"for a name that ends with a fixed string.","type":"text"}]}]},{"content":[{"inlineContent":[{"code":"arbitrary","type":"codeVoice"},{"type":"text","text":" "},{"type":"text","text":"for a name that can’t be determined until macro expansion."}],"type":"paragraph"}]}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"As a special case,"},{"type":"text","text":" "},{"text":"you can write ","type":"text"},{"type":"codeVoice","code":"prefixed($)"},{"type":"text","text":" "},{"text":"for a macro that behaves similar to a property wrapper.","type":"text"}]},{"level":3,"anchor":"available","type":"heading","text":"available"},{"type":"paragraph","inlineContent":[{"text":"Apply this attribute to indicate a declaration’s life cycle","type":"text"},{"text":" ","type":"text"},{"text":"relative to certain Swift language versions","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"or certain platforms and operating system versions."}]},{"type":"paragraph","inlineContent":[{"text":"The ","type":"text"},{"type":"codeVoice","code":"available"},{"text":" attribute always appears","type":"text"},{"type":"text","text":" "},{"type":"text","text":"with a list of two or more comma-separated attribute arguments."},{"text":" ","type":"text"},{"text":"These arguments begin with one of the following platform or language names:","type":"text"}]},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"iOS"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"iOSApplicationExtension"}]}]},{"content":[{"inlineContent":[{"type":"codeVoice","code":"macOS"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"macOSApplicationExtension"}]}]},{"content":[{"inlineContent":[{"type":"codeVoice","code":"macCatalyst"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"codeVoice","code":"macCatalystApplicationExtension"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"code":"watchOS","type":"codeVoice"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"code":"watchOSApplicationExtension","type":"codeVoice"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"code":"tvOS","type":"codeVoice"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"codeVoice","code":"tvOSApplicationExtension"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"code":"visionOS","type":"codeVoice"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"code":"swift","type":"codeVoice"}]}]}],"type":"unorderedList"},{"inlineContent":[{"type":"text","text":"You can also use an asterisk ("},{"type":"codeVoice","code":"*"},{"type":"text","text":") to indicate the"},{"text":" ","type":"text"},{"text":"availability of the declaration on all of the platform names listed above.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"An "},{"type":"codeVoice","code":"available"},{"type":"text","text":" attribute"},{"text":" ","type":"text"},{"text":"that specifies availability using a Swift version number","type":"text"},{"type":"text","text":" "},{"type":"text","text":"can’t use the asterisk."}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"The remaining arguments can appear in any order"},{"type":"text","text":" "},{"type":"text","text":"and specify additional information about the declaration’s life cycle,"},{"type":"text","text":" "},{"type":"text","text":"including important milestones."}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"The ","type":"text"},{"code":"unavailable","type":"codeVoice"},{"type":"text","text":" argument indicates that the declaration"},{"text":" ","type":"text"},{"type":"text","text":"isn’t available on the specified platform."},{"text":" ","type":"text"},{"type":"text","text":"This argument can’t be used when specifying Swift version availability."}]}]},{"content":[{"inlineContent":[{"text":"The ","type":"text"},{"type":"codeVoice","code":"introduced"},{"text":" argument indicates the first version","type":"text"},{"type":"text","text":" "},{"type":"text","text":"of the specified platform or language in which the declaration was introduced."},{"type":"text","text":" "},{"text":"It has the following form:","type":"text"}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["introduced: <#version number#>"]},{"inlineContent":[{"type":"text","text":"The "},{"type":"emphasis","inlineContent":[{"type":"text","text":"version number"}]},{"type":"text","text":" consists of one to three positive integers,"},{"type":"text","text":" "},{"text":"separated by periods.","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"The "},{"type":"codeVoice","code":"deprecated"},{"text":" argument indicates the first version","type":"text"},{"type":"text","text":" "},{"type":"text","text":"of the specified platform or language in which the declaration was deprecated."},{"type":"text","text":" "},{"text":"It has the following form:","type":"text"}]},{"type":"codeListing","syntax":"swift","code":["deprecated: <#version number#>"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The optional "},{"type":"emphasis","inlineContent":[{"type":"text","text":"version number"}]},{"type":"text","text":" consists of one to three positive integers,"},{"type":"text","text":" "},{"text":"separated by periods.","type":"text"},{"type":"text","text":" "},{"text":"Omitting the version number indicates that the declaration is currently deprecated,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"without giving any information about when the deprecation occurred."},{"text":" ","type":"text"},{"text":"If you omit the version number, omit the colon (","type":"text"},{"type":"codeVoice","code":":"},{"type":"text","text":") as well."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"The "},{"type":"codeVoice","code":"obsoleted"},{"type":"text","text":" argument indicates the first version"},{"text":" ","type":"text"},{"type":"text","text":"of the specified platform or language in which the declaration was obsoleted."},{"text":" ","type":"text"},{"text":"When a declaration is obsoleted,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"it’s removed from the specified platform or language and can no longer be used."},{"type":"text","text":" "},{"type":"text","text":"It has the following form:"}]},{"syntax":"swift","code":["obsoleted: <#version number#>"],"type":"codeListing"},{"inlineContent":[{"type":"text","text":"The "},{"type":"emphasis","inlineContent":[{"text":"version number","type":"text"}]},{"type":"text","text":" consists of one to three positive integers, separated by periods."}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"The ","type":"text"},{"code":"message","type":"codeVoice"},{"text":" argument provides a textual message that the compiler displays","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"when emitting a warning or error about the use of a deprecated or obsoleted declaration."},{"text":" ","type":"text"},{"text":"It has the following form:","type":"text"}]},{"type":"codeListing","syntax":"swift","code":["message: <#message#>"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The "},{"type":"emphasis","inlineContent":[{"text":"message","type":"text"}]},{"type":"text","text":" consists of a string literal."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"The "},{"type":"codeVoice","code":"renamed"},{"type":"text","text":" argument provides a textual message"},{"text":" ","type":"text"},{"type":"text","text":"that indicates the new name for a declaration that’s been renamed."},{"type":"text","text":" "},{"type":"text","text":"The compiler displays the new name"},{"text":" ","type":"text"},{"text":"when emitting an error about the use of a renamed declaration.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"It has the following form:"}]},{"code":["renamed: <#new name#>"],"type":"codeListing","syntax":"swift"},{"inlineContent":[{"text":"The ","type":"text"},{"inlineContent":[{"text":"new name","type":"text"}],"type":"emphasis"},{"type":"text","text":" consists of a string literal."}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"You can apply the "},{"code":"available","type":"codeVoice"},{"text":" attribute","type":"text"},{"text":" ","type":"text"},{"text":"with the ","type":"text"},{"type":"codeVoice","code":"renamed"},{"type":"text","text":" and "},{"code":"unavailable","type":"codeVoice"},{"type":"text","text":" arguments"},{"text":" ","type":"text"},{"text":"to a type alias declaration, as shown below,","type":"text"},{"text":" ","type":"text"},{"text":"to indicate that the name of a declaration changed","type":"text"},{"type":"text","text":" "},{"type":"text","text":"between releases of a framework or library."},{"text":" ","type":"text"},{"text":"This combination results in a compile-time error","type":"text"},{"type":"text","text":" "},{"type":"text","text":"that the declaration has been renamed."}],"type":"paragraph"},{"syntax":"swift","code":["\/\/ First release","protocol MyProtocol {","    \/\/ protocol definition","}"],"type":"codeListing"},{"code":["\/\/ Subsequent release renames MyProtocol","protocol MyRenamedProtocol {","    \/\/ protocol definition","}","","@available(*, unavailable, renamed: \"MyRenamedProtocol\")","typealias MyProtocol = MyRenamedProtocol"],"type":"codeListing","syntax":"swift"}]}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"You can apply multiple "},{"type":"codeVoice","code":"available"},{"type":"text","text":" attributes on a single declaration"},{"type":"text","text":" "},{"type":"text","text":"to specify the declaration’s availability on different platforms"},{"type":"text","text":" "},{"type":"text","text":"and different versions of Swift."},{"text":" ","type":"text"},{"type":"text","text":"The declaration that the "},{"code":"available","type":"codeVoice"},{"type":"text","text":" attribute applies to"},{"type":"text","text":" "},{"text":"is ignored if the attribute specifies","type":"text"},{"type":"text","text":" "},{"type":"text","text":"a platform or language version that doesn’t match the current target."},{"type":"text","text":" "},{"text":"If you use multiple ","type":"text"},{"type":"codeVoice","code":"available"},{"text":" attributes,","type":"text"},{"type":"text","text":" "},{"text":"the effective availability is the combination of","type":"text"},{"text":" ","type":"text"},{"text":"the platform and Swift availabilities.","type":"text"}]},{"inlineContent":[{"type":"text","text":"If an "},{"type":"codeVoice","code":"available"},{"type":"text","text":" attribute only specifies an "},{"code":"introduced","type":"codeVoice"},{"text":" argument","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"in addition to a platform or language name argument,"},{"type":"text","text":" "},{"text":"you can use the following shorthand syntax instead:","type":"text"}],"type":"paragraph"},{"type":"codeListing","code":["@available(<#platform name#> <#version number#>, *)","@available(swift <#version number#>)"],"syntax":"swift"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The shorthand syntax for "},{"code":"available","type":"codeVoice"},{"type":"text","text":" attributes"},{"type":"text","text":" "},{"type":"text","text":"concisely expresses availability for multiple platforms."},{"text":" ","type":"text"},{"type":"text","text":"Although the two forms are functionally equivalent,"},{"text":" ","type":"text"},{"type":"text","text":"the shorthand form is preferred whenever possible."}]},{"type":"codeListing","syntax":"swift","code":["@available(iOS 10.0, macOS 10.12, *)","class MyClass {","    \/\/ class definition","}"]},{"inlineContent":[{"text":"An ","type":"text"},{"type":"codeVoice","code":"available"},{"text":" attribute","type":"text"},{"type":"text","text":" "},{"text":"that specifies availability using a Swift version number","type":"text"},{"type":"text","text":" "},{"text":"can’t additionally specify a declaration’s platform availability.","type":"text"},{"type":"text","text":" "},{"text":"Instead, use separate ","type":"text"},{"type":"codeVoice","code":"available"},{"type":"text","text":" attributes to specify a Swift"},{"text":" ","type":"text"},{"type":"text","text":"version availability and one or more platform availabilities."}],"type":"paragraph"},{"syntax":"swift","type":"codeListing","code":["@available(swift 3.0.2)","@available(macOS 10.12, *)","struct MyStruct {","    \/\/ struct definition","}"]},{"anchor":"backDeployed","level":3,"type":"heading","text":"backDeployed"},{"type":"paragraph","inlineContent":[{"text":"Apply this attribute to a function, method, subscript, or computed property","type":"text"},{"text":" ","type":"text"},{"text":"to include a copy of the symbol’s implementation","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"in programs that call or access the symbol."},{"text":" ","type":"text"},{"text":"You use this attribute to annotate symbols that ship as part of a platform,","type":"text"},{"type":"text","text":" "},{"text":"like the APIs that are included with an operating system.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"This attribute marks symbols that can be made available retroactively"},{"type":"text","text":" "},{"type":"text","text":"by including a copy of their implementation in programs that access them."},{"type":"text","text":" "},{"type":"text","text":"Copying the implementation is also known as "},{"type":"emphasis","inlineContent":[{"type":"text","text":"emitting into the client"}]},{"type":"text","text":"."}]},{"type":"paragraph","inlineContent":[{"text":"This attribute takes a ","type":"text"},{"type":"codeVoice","code":"before:"},{"type":"text","text":" argument,"},{"text":" ","type":"text"},{"type":"text","text":"specifying the first version of platforms that provide this symbol."},{"type":"text","text":" "},{"text":"These platform versions have the same meaning","type":"text"},{"type":"text","text":" "},{"type":"text","text":"as the platform version you specify for the "},{"type":"codeVoice","code":"available"},{"type":"text","text":" attribute."},{"type":"text","text":" "},{"type":"text","text":"Unlike the "},{"type":"codeVoice","code":"available"},{"text":" attribute,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"the list can’t contain an asterisk ("},{"type":"codeVoice","code":"*"},{"type":"text","text":") to refer to all versions."},{"type":"text","text":" "},{"type":"text","text":"For example, consider the following code:"}]},{"syntax":"swift","type":"codeListing","code":["@available(iOS 16, *)","@backDeployed(before: iOS 17)","func someFunction() { \/* ... *\/ }"]},{"inlineContent":[{"text":"In the example above,","type":"text"},{"type":"text","text":" "},{"text":"the iOS SDK provides ","type":"text"},{"type":"codeVoice","code":"someFunction()"},{"text":" starting in iOS 17.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"In addition,"},{"type":"text","text":" "},{"text":"the SDK makes ","type":"text"},{"type":"codeVoice","code":"someFunction()"},{"type":"text","text":" available on iOS 16 using back deployment."}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"type":"text","text":"When compiling code that calls this function,"},{"type":"text","text":" "},{"text":"Swift inserts a layer of indirection that finds the function’s implementation.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"If the code is run using a version of the SDK that includes this function,"},{"text":" ","type":"text"},{"text":"the SDK’s implementation is used.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"Otherwise, the copy included in the caller is used."},{"type":"text","text":" "},{"type":"text","text":"In the example above,"},{"text":" ","type":"text"},{"text":"calling ","type":"text"},{"type":"codeVoice","code":"someFunction()"},{"text":" uses the implementation from the SDK","type":"text"},{"type":"text","text":" "},{"type":"text","text":"when running on iOS 17 or later,"},{"type":"text","text":" "},{"text":"and when running on iOS 16","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"it uses the copy of "},{"type":"codeVoice","code":"someFunction()"},{"text":" that’s included in the caller.","type":"text"}]},{"name":"Note","style":"note","type":"aside","content":[{"inlineContent":[{"text":"","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"When the caller’s minimum deployment target"},{"text":" ","type":"text"},{"text":"is the same as or greater than","type":"text"},{"type":"text","text":" "},{"text":"the first version of the SDK that includes the symbol,","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"the compiler can optimize away the runtime check"},{"type":"text","text":" "},{"text":"and call the SDK’s implementation directly.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"In this case,"},{"text":" ","type":"text"},{"type":"text","text":"if you access the back-deployed symbol directly,"},{"text":" ","type":"text"},{"text":"the compiler can also omit","type":"text"},{"type":"text","text":" "},{"type":"text","text":"the copy of the symbol’s implementation from the client."}],"type":"paragraph"}]},{"type":"paragraph","inlineContent":[{"text":"Functions, methods, subscripts, and computed properties","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"that meet the following criteria can be back deployed:"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"The declaration is "},{"code":"public","type":"codeVoice"},{"text":" or ","type":"text"},{"type":"codeVoice","code":"@usableFromInline"},{"type":"text","text":"."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"For class instance methods and class type methods,"},{"type":"text","text":" "},{"type":"text","text":"the method is marked "},{"code":"final","type":"codeVoice"},{"text":" and isn’t marked ","type":"text"},{"type":"codeVoice","code":"@objc"},{"text":".","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"The implementation satisfies the requirements for an inlinable function,","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"described in "},{"isActive":true,"type":"reference","identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Attributes#inlinable"},{"type":"text","text":"."}]}]}]},{"text":"discardableResult","anchor":"discardableResult","level":3,"type":"heading"},{"inlineContent":[{"type":"text","text":"Apply this attribute to a function or method declaration"},{"text":" ","type":"text"},{"text":"to suppress the compiler warning","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"when the function or method that returns a value"},{"type":"text","text":" "},{"text":"is called without using its result.","type":"text"}],"type":"paragraph"},{"level":3,"text":"dynamicCallable","anchor":"dynamicCallable","type":"heading"},{"inlineContent":[{"text":"Apply this attribute to a class, structure, enumeration, or protocol","type":"text"},{"type":"text","text":" "},{"type":"text","text":"to treat instances of the type as callable functions."},{"type":"text","text":" "},{"type":"text","text":"The type must implement either a "},{"type":"codeVoice","code":"dynamicallyCall(withArguments:)"},{"type":"text","text":" method,"},{"text":" ","type":"text"},{"text":"a ","type":"text"},{"code":"dynamicallyCall(withKeywordArguments:)","type":"codeVoice"},{"type":"text","text":" method,"},{"type":"text","text":" "},{"type":"text","text":"or both."}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"You can call an instance of a dynamically callable type"},{"text":" ","type":"text"},{"type":"text","text":"as if it’s a function that takes any number of arguments."}],"type":"paragraph"},{"code":["@dynamicCallable","struct TelephoneExchange {","    func dynamicallyCall(withArguments phoneNumber: [Int]) {","        if phoneNumber == [4, 1, 1] {","            print(\"Get Swift help on forums.swift.org\")","        } else {","            print(\"Unrecognized number\")","        }","    }","}","","let dial = TelephoneExchange()","","\/\/ Use a dynamic method call.","dial(4, 1, 1)","\/\/ Prints \"Get Swift help on forums.swift.org\"","","dial(8, 6, 7, 5, 3, 0, 9)","\/\/ Prints \"Unrecognized number\"","","\/\/ Call the underlying method directly.","dial.dynamicallyCall(withArguments: [4, 1, 1])"],"type":"codeListing","syntax":"swift"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The declaration of the "},{"code":"dynamicallyCall(withArguments:)","type":"codeVoice"},{"type":"text","text":" method"},{"text":" ","type":"text"},{"text":"must have a single parameter that conforms to the","type":"text"},{"type":"text","text":" "},{"isActive":true,"type":"reference","identifier":"https:\/\/developer.apple.com\/documentation\/swift\/expressiblebyarrayliteral"},{"type":"text","text":" "},{"type":"text","text":"protocol — like "},{"type":"codeVoice","code":"[Int]"},{"type":"text","text":" in the example above."},{"type":"text","text":" "},{"type":"text","text":"The return type can be any type."}]},{"inlineContent":[{"type":"text","text":"You can include labels in a dynamic method call"},{"type":"text","text":" "},{"type":"text","text":"if you implement the "},{"type":"codeVoice","code":"dynamicallyCall(withKeywordArguments:)"},{"type":"text","text":" method."}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["@dynamicCallable","struct Repeater {","    func dynamicallyCall(withKeywordArguments pairs: KeyValuePairs<String, Int>) -> String {","        return pairs","            .map { label, count in","                repeatElement(label, count: count).joined(separator: \" \")","            }","            .joined(separator: \"\\n\")","    }","}","","let repeatLabels = Repeater()","print(repeatLabels(a: 1, b: 2, c: 3, b: 2, a: 1))","\/\/ a","\/\/ b b","\/\/ c c c","\/\/ b b","\/\/ a"]},{"type":"paragraph","inlineContent":[{"text":"The declaration of the ","type":"text"},{"code":"dynamicallyCall(withKeywordArguments:)","type":"codeVoice"},{"text":" method","type":"text"},{"text":" ","type":"text"},{"text":"must have a single parameter that conforms to the","type":"text"},{"text":" ","type":"text"},{"identifier":"https:\/\/developer.apple.com\/documentation\/swift\/expressiblebydictionaryliteral","type":"reference","isActive":true},{"text":" ","type":"text"},{"type":"text","text":"protocol,"},{"type":"text","text":" "},{"text":"and the return type can be any type.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"The parameter’s "},{"isActive":true,"type":"reference","identifier":"https:\/\/developer.apple.com\/documentation\/swift\/expressiblebydictionaryliteral\/2294108-key"},{"type":"text","text":" "},{"type":"text","text":"must be"},{"type":"text","text":" "},{"type":"reference","identifier":"https:\/\/developer.apple.com\/documentation\/swift\/expressiblebystringliteral","isActive":true},{"text":".","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"The previous example uses "},{"identifier":"https:\/\/developer.apple.com\/documentation\/swift\/keyvaluepairs","isActive":true,"type":"reference"},{"text":" ","type":"text"},{"text":"as the parameter type","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"so that callers can include duplicate parameter labels —"},{"text":" ","type":"text"},{"code":"a","type":"codeVoice"},{"type":"text","text":" and "},{"code":"b","type":"codeVoice"},{"text":" appear multiple times in the call to ","type":"text"},{"type":"codeVoice","code":"repeat"},{"text":".","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"If you implement both "},{"code":"dynamicallyCall","type":"codeVoice"},{"text":" methods,","type":"text"},{"type":"text","text":" "},{"type":"codeVoice","code":"dynamicallyCall(withKeywordArguments:)"},{"text":" is called","type":"text"},{"type":"text","text":" "},{"text":"when the method call includes keyword arguments.","type":"text"},{"type":"text","text":" "},{"text":"In all other cases, ","type":"text"},{"type":"codeVoice","code":"dynamicallyCall(withArguments:)"},{"type":"text","text":" is called."}]},{"type":"paragraph","inlineContent":[{"text":"You can only call a dynamically callable instance","type":"text"},{"type":"text","text":" "},{"type":"text","text":"with arguments and a return value that match the types you specify"},{"text":" ","type":"text"},{"text":"in one of your ","type":"text"},{"type":"codeVoice","code":"dynamicallyCall"},{"text":" method implementations.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"The call in the following example doesn’t compile because"},{"type":"text","text":" "},{"text":"there isn’t an implementation of ","type":"text"},{"code":"dynamicallyCall(withArguments:)","type":"codeVoice"},{"text":" ","type":"text"},{"type":"text","text":"that takes "},{"code":"KeyValuePairs<String, String>","type":"codeVoice"},{"type":"text","text":"."}]},{"syntax":"swift","code":["repeatLabels(a: \"four\") \/\/ Error"],"type":"codeListing"},{"text":"dynamicMemberLookup","type":"heading","level":3,"anchor":"dynamicMemberLookup"},{"inlineContent":[{"type":"text","text":"Apply this attribute to a class, structure, enumeration, or protocol"},{"text":" ","type":"text"},{"type":"text","text":"to enable members to be looked up by name at runtime."},{"type":"text","text":" "},{"text":"The type must implement a ","type":"text"},{"type":"codeVoice","code":"subscript(dynamicMember:)"},{"type":"text","text":" subscript."}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"type":"text","text":"In an explicit member expression,"},{"text":" ","type":"text"},{"text":"if there isn’t a corresponding declaration for the named member,","type":"text"},{"text":" ","type":"text"},{"text":"the expression is understood as a call to","type":"text"},{"type":"text","text":" "},{"type":"text","text":"the type’s "},{"type":"codeVoice","code":"subscript(dynamicMember:)"},{"type":"text","text":" subscript,"},{"type":"text","text":" "},{"text":"passing information about the member as the argument.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"The subscript can accept a parameter that’s either a key path or a member name;"},{"type":"text","text":" "},{"type":"text","text":"if you implement both subscripts,"},{"text":" ","type":"text"},{"text":"the subscript that takes key path argument is used.","type":"text"}]},{"type":"paragraph","inlineContent":[{"text":"An implementation of ","type":"text"},{"code":"subscript(dynamicMember:)","type":"codeVoice"},{"type":"text","text":" "},{"type":"text","text":"can accept key paths using an argument of type"},{"type":"text","text":" "},{"identifier":"https:\/\/developer.apple.com\/documentation\/swift\/keypath","isActive":true,"type":"reference"},{"type":"text","text":","},{"text":" ","type":"text"},{"type":"reference","identifier":"https:\/\/developer.apple.com\/documentation\/swift\/writablekeypath","isActive":true},{"text":",","type":"text"},{"type":"text","text":" "},{"type":"text","text":"or "},{"type":"reference","identifier":"https:\/\/developer.apple.com\/documentation\/swift\/referencewritablekeypath","isActive":true},{"type":"text","text":"."},{"type":"text","text":" "},{"text":"It can accept member names using an argument of a type that conforms to the","type":"text"},{"text":" ","type":"text"},{"identifier":"https:\/\/developer.apple.com\/documentation\/swift\/expressiblebystringliteral","overridingTitleInlineContent":[{"code":"ExpressibleByStringLiteral","type":"codeVoice"}],"overridingTitle":"ExpressibleByStringLiteral","type":"reference","isActive":true},{"type":"text","text":" protocol —"},{"type":"text","text":" "},{"text":"in most cases, ","type":"text"},{"type":"codeVoice","code":"String"},{"text":".","type":"text"},{"type":"text","text":" "},{"type":"text","text":"The subscript’s return type can be any type."}]},{"type":"paragraph","inlineContent":[{"text":"Dynamic member lookup by member name","type":"text"},{"type":"text","text":" "},{"type":"text","text":"can be used to create a wrapper type around data"},{"text":" ","type":"text"},{"type":"text","text":"that can’t be type checked at compile time,"},{"text":" ","type":"text"},{"type":"text","text":"such as when bridging data from other languages into Swift."},{"text":" ","type":"text"},{"type":"text","text":"For example:"}]},{"code":["@dynamicMemberLookup","struct DynamicStruct {","    let dictionary = [\"someDynamicMember\": 325,","                      \"someOtherMember\": 787]","    subscript(dynamicMember member: String) -> Int {","        return dictionary[member] ?? 1054","    }","}","let s = DynamicStruct()","","\/\/ Use dynamic member lookup.","let dynamic = s.someDynamicMember","print(dynamic)","\/\/ Prints \"325\"","","\/\/ Call the underlying subscript directly.","let equivalent = s[dynamicMember: \"someDynamicMember\"]","print(dynamic == equivalent)","\/\/ Prints \"true\""],"syntax":"swift","type":"codeListing"},{"inlineContent":[{"text":"Dynamic member lookup by key path","type":"text"},{"type":"text","text":" "},{"type":"text","text":"can be used to implement a wrapper type"},{"text":" ","type":"text"},{"type":"text","text":"in a way that supports compile-time type checking."},{"type":"text","text":" "},{"type":"text","text":"For example:"}],"type":"paragraph"},{"code":["struct Point { var x, y: Int }","","@dynamicMemberLookup","struct PassthroughWrapper<Value> {","    var value: Value","    subscript<T>(dynamicMember member: KeyPath<Value, T>) -> T {","        get { return value[keyPath: member] }","    }","}","","let point = Point(x: 381, y: 431)","let wrapper = PassthroughWrapper(value: point)","print(wrapper.x)"],"type":"codeListing","syntax":"swift"},{"text":"freestanding","level":3,"type":"heading","anchor":"freestanding"},{"type":"paragraph","inlineContent":[{"text":"Apply the ","type":"text"},{"code":"freestanding","type":"codeVoice"},{"type":"text","text":" attribute"},{"text":" ","type":"text"},{"text":"to the declaration of a freestanding macro.","type":"text"}]},{"anchor":"frozen","type":"heading","level":3,"text":"frozen"},{"inlineContent":[{"type":"text","text":"Apply this attribute to a structure or enumeration declaration"},{"text":" ","type":"text"},{"text":"to restrict the kinds of changes you can make to the type.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"This attribute is allowed only when compiling in library evolution mode."},{"type":"text","text":" "},{"type":"text","text":"Future versions of the library can’t change the declaration"},{"type":"text","text":" "},{"type":"text","text":"by adding, removing, or reordering"},{"text":" ","type":"text"},{"text":"an enumeration’s cases","type":"text"},{"type":"text","text":" "},{"text":"or a structure’s stored instance properties.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"These changes are allowed on nonfrozen types,"},{"text":" ","type":"text"},{"type":"text","text":"but they break ABI compatibility for frozen types."}],"type":"paragraph"},{"type":"aside","content":[{"inlineContent":[{"text":"When the compiler isn’t in library evolution mode,","type":"text"},{"type":"text","text":" "},{"text":"all structures and enumerations are implicitly frozen,","type":"text"},{"type":"text","text":" "},{"text":"and this attribute is ignored.","type":"text"}],"type":"paragraph"}],"style":"note","name":"Note"},{"inlineContent":[{"type":"text","text":"In library evolution mode,"},{"type":"text","text":" "},{"text":"code that interacts with members of nonfrozen structures and enumerations","type":"text"},{"text":" ","type":"text"},{"text":"is compiled in a way that allows it to continue working without recompiling","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"even if a future version of the library"},{"type":"text","text":" "},{"type":"text","text":"adds, removes, or reorders some of that type’s members."},{"text":" ","type":"text"},{"text":"The compiler makes this possible using techniques like","type":"text"},{"type":"text","text":" "},{"type":"text","text":"looking up information at runtime"},{"text":" ","type":"text"},{"type":"text","text":"and adding a layer of indirection."},{"type":"text","text":" "},{"text":"Marking a structure or enumeration as frozen","type":"text"},{"type":"text","text":" "},{"type":"text","text":"gives up this flexibility to gain performance:"},{"type":"text","text":" "},{"type":"text","text":"Future versions of the library can make only limited changes to the type,"},{"text":" ","type":"text"},{"text":"but the compiler can make additional optimizations","type":"text"},{"type":"text","text":" "},{"type":"text","text":"in code that interacts with the type’s members."}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"Frozen types,"},{"type":"text","text":" "},{"text":"the types of the stored properties of frozen structures,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"and the associated values of frozen enumeration cases"},{"text":" ","type":"text"},{"type":"text","text":"must be public or marked with the "},{"type":"codeVoice","code":"usableFromInline"},{"text":" attribute.","type":"text"},{"type":"text","text":" "},{"text":"The properties of a frozen structure can’t have property observers,","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"and expressions that provide the initial value for stored instance properties"},{"text":" ","type":"text"},{"type":"text","text":"must follow the same restrictions as inlinable functions,"},{"type":"text","text":" "},{"text":"as discussed in ","type":"text"},{"isActive":true,"identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Attributes#inlinable","type":"reference"},{"text":".","type":"text"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"To enable library evolution mode on the command line,"},{"type":"text","text":" "},{"type":"text","text":"pass the "},{"type":"codeVoice","code":"-enable-library-evolution"},{"text":" option to the Swift compiler.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"To enable it in Xcode,"},{"type":"text","text":" "},{"type":"text","text":"set the “Build Libraries for Distribution” build setting"},{"text":" ","type":"text"},{"text":"(","type":"text"},{"type":"codeVoice","code":"BUILD_LIBRARY_FOR_DISTRIBUTION"},{"text":") to Yes,","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"as described in "},{"isActive":true,"type":"reference","identifier":"https:\/\/help.apple.com\/xcode\/mac\/current\/#\/dev04b3a04ba"},{"text":".","type":"text"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"A switch statement over a frozen enumeration doesn’t require a "},{"type":"codeVoice","code":"default"},{"type":"text","text":" case,"},{"text":" ","type":"text"},{"text":"as discussed in ","type":"text"},{"type":"reference","isActive":true,"identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Statements#Switching-Over-Future-Enumeration-Cases"},{"type":"text","text":"."},{"type":"text","text":" "},{"text":"Including a ","type":"text"},{"type":"codeVoice","code":"default"},{"text":" or ","type":"text"},{"type":"codeVoice","code":"@unknown default"},{"type":"text","text":" case"},{"type":"text","text":" "},{"type":"text","text":"when switching over a frozen enumeration"},{"type":"text","text":" "},{"text":"produces a warning because that code is never executed.","type":"text"}],"type":"paragraph"},{"type":"heading","text":"GKInspectable","level":3,"anchor":"GKInspectable"},{"inlineContent":[{"type":"text","text":"Apply this attribute to expose a custom GameplayKit component property"},{"type":"text","text":" "},{"type":"text","text":"to the SpriteKit editor UI."},{"text":" ","type":"text"},{"type":"text","text":"Applying this attribute also implies the "},{"code":"objc","type":"codeVoice"},{"text":" attribute.","type":"text"}],"type":"paragraph"},{"text":"inlinable","anchor":"inlinable","type":"heading","level":3},{"type":"paragraph","inlineContent":[{"text":"Apply this attribute to a","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"function, method, computed property, subscript,"},{"type":"text","text":" "},{"type":"text","text":"convenience initializer, or deinitializer declaration"},{"text":" ","type":"text"},{"type":"text","text":"to expose that declaration’s implementation"},{"type":"text","text":" "},{"type":"text","text":"as part of the module’s public interface."},{"type":"text","text":" "},{"type":"text","text":"The compiler is allowed to replace calls to an inlinable symbol"},{"text":" ","type":"text"},{"text":"with a copy of the symbol’s implementation at the call site.","type":"text"}]},{"inlineContent":[{"type":"text","text":"Inlinable code"},{"type":"text","text":" "},{"type":"text","text":"can interact with "},{"type":"codeVoice","code":"public"},{"text":" symbols declared in any module,","type":"text"},{"text":" ","type":"text"},{"text":"and it can interact with ","type":"text"},{"code":"internal","type":"codeVoice"},{"text":" symbols","type":"text"},{"text":" ","type":"text"},{"text":"declared in the same module","type":"text"},{"text":" ","type":"text"},{"text":"that are marked with the ","type":"text"},{"type":"codeVoice","code":"usableFromInline"},{"type":"text","text":" attribute."},{"text":" ","type":"text"},{"type":"text","text":"Inlinable code can’t interact with "},{"code":"private","type":"codeVoice"},{"type":"text","text":" or "},{"code":"fileprivate","type":"codeVoice"},{"type":"text","text":" symbols."}],"type":"paragraph"},{"inlineContent":[{"text":"This attribute can’t be applied","type":"text"},{"type":"text","text":" "},{"type":"text","text":"to declarations that are nested inside functions"},{"text":" ","type":"text"},{"text":"or to ","type":"text"},{"type":"codeVoice","code":"fileprivate"},{"text":" or ","type":"text"},{"code":"private","type":"codeVoice"},{"text":" declarations.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"Functions and closures that are defined inside an inlinable function"},{"text":" ","type":"text"},{"type":"text","text":"are implicitly inlinable,"},{"type":"text","text":" "},{"type":"text","text":"even though they can’t be marked with this attribute."}],"type":"paragraph"},{"anchor":"main","text":"main","level":3,"type":"heading"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Apply this attribute to a structure, class, or enumeration declaration"},{"text":" ","type":"text"},{"text":"to indicate that it contains the top-level entry point for program flow.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"The type must provide a "},{"type":"codeVoice","code":"main"},{"type":"text","text":" type function"},{"text":" ","type":"text"},{"text":"that doesn’t take any arguments and returns ","type":"text"},{"type":"codeVoice","code":"Void"},{"text":".","type":"text"},{"type":"text","text":" "},{"text":"For example:","type":"text"}]},{"type":"codeListing","syntax":"swift","code":["@main","struct MyTopLevel {","    static func main() {","        \/\/ Top-level code goes here","    }","}"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Another way to describe the requirements of the "},{"code":"main","type":"codeVoice"},{"type":"text","text":" attribute"},{"type":"text","text":" "},{"type":"text","text":"is that the type you write this attribute on"},{"text":" ","type":"text"},{"type":"text","text":"must satisfy the same requirements"},{"type":"text","text":" "},{"type":"text","text":"as types that conform to the following hypothetical protocol:"}]},{"code":["protocol ProvidesMain {","    static func main() throws","}"],"type":"codeListing","syntax":"swift"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The Swift code you compile to make an executable"},{"text":" ","type":"text"},{"type":"text","text":"can contain at most one top-level entry point,"},{"type":"text","text":" "},{"text":"as discussed in ","type":"text"},{"type":"reference","isActive":true,"identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Declarations#Top-Level-Code"},{"text":".","type":"text"}]},{"anchor":"nonobjc","text":"nonobjc","type":"heading","level":3},{"inlineContent":[{"text":"Apply this attribute to a","type":"text"},{"text":" ","type":"text"},{"text":"method, property, subscript, or initializer declaration","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"to suppress an implicit "},{"code":"objc","type":"codeVoice"},{"type":"text","text":" attribute."},{"text":" ","type":"text"},{"text":"The ","type":"text"},{"code":"nonobjc","type":"codeVoice"},{"type":"text","text":" attribute tells the compiler"},{"type":"text","text":" "},{"type":"text","text":"to make the declaration unavailable in Objective-C code,"},{"text":" ","type":"text"},{"type":"text","text":"even though it’s possible to represent it in Objective-C."}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"text":"Applying this attribute to an extension","type":"text"},{"text":" ","type":"text"},{"text":"has the same effect as","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"applying it to every member of that extension"},{"type":"text","text":" "},{"type":"text","text":"that isn’t explicitly marked with the "},{"type":"codeVoice","code":"objc"},{"text":" attribute.","type":"text"}]},{"inlineContent":[{"type":"text","text":"You use the "},{"code":"nonobjc","type":"codeVoice"},{"text":" attribute to resolve circularity","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"for bridging methods in a class marked with the "},{"type":"codeVoice","code":"objc"},{"type":"text","text":" attribute,"},{"type":"text","text":" "},{"text":"and to allow overloading of methods and initializers","type":"text"},{"type":"text","text":" "},{"text":"in a class marked with the ","type":"text"},{"type":"codeVoice","code":"objc"},{"type":"text","text":" attribute."}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"type":"text","text":"A method marked with the "},{"code":"nonobjc","type":"codeVoice"},{"type":"text","text":" attribute"},{"type":"text","text":" "},{"text":"can’t override a method marked with the ","type":"text"},{"type":"codeVoice","code":"objc"},{"type":"text","text":" attribute."},{"text":" ","type":"text"},{"text":"However, a method marked with the ","type":"text"},{"type":"codeVoice","code":"objc"},{"type":"text","text":" attribute"},{"type":"text","text":" "},{"text":"can override a method marked with the ","type":"text"},{"type":"codeVoice","code":"nonobjc"},{"type":"text","text":" attribute."},{"type":"text","text":" "},{"type":"text","text":"Similarly, a method marked with the "},{"type":"codeVoice","code":"nonobjc"},{"type":"text","text":" attribute"},{"type":"text","text":" "},{"type":"text","text":"can’t satisfy a protocol requirement"},{"type":"text","text":" "},{"text":"for a method marked with the ","type":"text"},{"code":"objc","type":"codeVoice"},{"type":"text","text":" attribute."}]},{"text":"NSApplicationMain","type":"heading","level":3,"anchor":"NSApplicationMain"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Apply this attribute to a class"},{"type":"text","text":" "},{"text":"to indicate that it’s the application delegate.","type":"text"},{"type":"text","text":" "},{"text":"Using this attribute is equivalent to calling the","type":"text"},{"text":" ","type":"text"},{"code":"NSApplicationMain(_:_:)","type":"codeVoice"},{"type":"text","text":" function."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"If you don’t use this attribute,"},{"text":" ","type":"text"},{"text":"supply a ","type":"text"},{"code":"main.swift","type":"codeVoice"},{"text":" file with code at the top level","type":"text"},{"text":" ","type":"text"},{"text":"that calls the ","type":"text"},{"type":"codeVoice","code":"NSApplicationMain(_:_:)"},{"text":" function as follows:","type":"text"}]},{"syntax":"swift","type":"codeListing","code":["import AppKit","NSApplicationMain(CommandLine.argc, CommandLine.unsafeArgv)"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The Swift code you compile to make an executable"},{"text":" ","type":"text"},{"type":"text","text":"can contain at most one top-level entry point,"},{"type":"text","text":" "},{"text":"as discussed in ","type":"text"},{"type":"reference","identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Declarations#Top-Level-Code","isActive":true},{"type":"text","text":"."}]},{"level":3,"text":"NSCopying","anchor":"NSCopying","type":"heading"},{"inlineContent":[{"text":"Apply this attribute to a stored variable property of a class.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"This attribute causes the property’s setter to be synthesized with a "},{"type":"emphasis","inlineContent":[{"type":"text","text":"copy"}]},{"text":" ","type":"text"},{"type":"text","text":"of the property’s value — returned by the "},{"type":"codeVoice","code":"copyWithZone(_:)"},{"text":" method — instead of the","type":"text"},{"type":"text","text":" "},{"text":"value of the property itself.","type":"text"},{"type":"text","text":" "},{"text":"The type of the property must conform to the ","type":"text"},{"code":"NSCopying","type":"codeVoice"},{"text":" protocol.","type":"text"}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"text":"The ","type":"text"},{"type":"codeVoice","code":"NSCopying"},{"text":" attribute behaves in a way similar to the Objective-C ","type":"text"},{"type":"codeVoice","code":"copy"},{"type":"text","text":" "},{"type":"text","text":"property attribute."}]},{"anchor":"NSManaged","type":"heading","level":3,"text":"NSManaged"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Apply this attribute to an instance method or stored variable property"},{"text":" ","type":"text"},{"text":"of a class that inherits from ","type":"text"},{"code":"NSManagedObject","type":"codeVoice"},{"text":" ","type":"text"},{"type":"text","text":"to indicate that Core Data dynamically provides its implementation at runtime,"},{"text":" ","type":"text"},{"type":"text","text":"based on the associated entity description."},{"type":"text","text":" "},{"text":"For a property marked with the ","type":"text"},{"code":"NSManaged","type":"codeVoice"},{"type":"text","text":" attribute,"},{"type":"text","text":" "},{"text":"Core Data also provides the storage at runtime.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"Applying this attribute also implies the "},{"code":"objc","type":"codeVoice"},{"type":"text","text":" attribute."}]},{"type":"heading","level":3,"text":"objc","anchor":"objc"},{"type":"paragraph","inlineContent":[{"text":"Apply this attribute to any declaration that can be represented in Objective-C —","type":"text"},{"type":"text","text":" "},{"text":"for example, nonnested classes, protocols,","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"nongeneric enumerations (constrained to integer raw-value types),"},{"text":" ","type":"text"},{"type":"text","text":"properties and methods (including getters and setters) of classes,"},{"text":" ","type":"text"},{"text":"protocols and optional members of a protocol,","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"initializers, and subscripts."},{"type":"text","text":" "},{"text":"The ","type":"text"},{"type":"codeVoice","code":"objc"},{"text":" attribute tells the compiler","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"that a declaration is available to use in Objective-C code."}]},{"type":"paragraph","inlineContent":[{"text":"Applying this attribute to an extension","type":"text"},{"type":"text","text":" "},{"text":"has the same effect as","type":"text"},{"text":" ","type":"text"},{"text":"applying it to every member of that extension","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"that isn’t explicitly marked with the "},{"type":"codeVoice","code":"nonobjc"},{"type":"text","text":" attribute."}]},{"type":"paragraph","inlineContent":[{"text":"The compiler implicitly adds the ","type":"text"},{"type":"codeVoice","code":"objc"},{"text":" attribute","type":"text"},{"type":"text","text":" "},{"type":"text","text":"to subclasses of any class defined in Objective-C."},{"type":"text","text":" "},{"text":"However, the subclass must not be generic,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"and must not inherit from any generic classes."},{"text":" ","type":"text"},{"type":"text","text":"You can explicitly add the "},{"type":"codeVoice","code":"objc"},{"type":"text","text":" attribute"},{"type":"text","text":" "},{"type":"text","text":"to a subclass that meets these criteria,"},{"text":" ","type":"text"},{"text":"to specify its Objective-C name as discussed below.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"Protocols that are marked with the "},{"type":"codeVoice","code":"objc"},{"type":"text","text":" attribute can’t inherit"},{"text":" ","type":"text"},{"text":"from protocols that aren’t marked with this attribute.","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The "},{"type":"codeVoice","code":"objc"},{"type":"text","text":" attribute is also implicitly added in the following cases:"}]},{"items":[{"content":[{"inlineContent":[{"text":"The declaration is an override in a subclass,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"and the superclass’s declaration has the "},{"type":"codeVoice","code":"objc"},{"text":" attribute.","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"The declaration satisfies a requirement","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"from a protocol that has the "},{"type":"codeVoice","code":"objc"},{"type":"text","text":" attribute."}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"The declaration has the ","type":"text"},{"type":"codeVoice","code":"IBAction"},{"text":", ","type":"text"},{"type":"codeVoice","code":"IBSegueAction"},{"type":"text","text":", "},{"code":"IBOutlet","type":"codeVoice"},{"type":"text","text":","},{"text":" ","type":"text"},{"code":"IBDesignable","type":"codeVoice"},{"text":", ","type":"text"},{"type":"codeVoice","code":"IBInspectable"},{"type":"text","text":","},{"type":"text","text":" "},{"code":"NSManaged","type":"codeVoice"},{"type":"text","text":", or "},{"type":"codeVoice","code":"GKInspectable"},{"type":"text","text":" attribute."}]}]}],"type":"unorderedList"},{"inlineContent":[{"type":"text","text":"If you apply the "},{"code":"objc","type":"codeVoice"},{"type":"text","text":" attribute to an enumeration,"},{"type":"text","text":" "},{"text":"each enumeration case is exposed to Objective-C code","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"as the concatenation of the enumeration name and the case name."},{"type":"text","text":" "},{"type":"text","text":"The first letter of the case name is capitalized."},{"text":" ","type":"text"},{"text":"For example, a case named ","type":"text"},{"code":"venus","type":"codeVoice"},{"type":"text","text":" in a Swift "},{"code":"Planet","type":"codeVoice"},{"type":"text","text":" enumeration"},{"text":" ","type":"text"},{"type":"text","text":"is exposed to Objective-C code as a case named "},{"type":"codeVoice","code":"PlanetVenus"},{"type":"text","text":"."}],"type":"paragraph"},{"inlineContent":[{"text":"The ","type":"text"},{"type":"codeVoice","code":"objc"},{"type":"text","text":" attribute optionally accepts a single attribute argument,"},{"text":" ","type":"text"},{"type":"text","text":"which consists of an identifier."},{"type":"text","text":" "},{"type":"text","text":"The identifier specifies the name to be exposed to Objective-C"},{"type":"text","text":" "},{"type":"text","text":"for the entity that the "},{"code":"objc","type":"codeVoice"},{"text":" attribute applies to.","type":"text"},{"type":"text","text":" "},{"text":"You can use this argument to name","type":"text"},{"type":"text","text":" "},{"type":"text","text":"classes, enumerations, enumeration cases, protocols,"},{"type":"text","text":" "},{"text":"methods, getters, setters, and initializers.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"If you specify the Objective-C name"},{"type":"text","text":" "},{"type":"text","text":"for a class, protocol, or enumeration,"},{"text":" ","type":"text"},{"type":"text","text":"include a three-letter prefix on the name,"},{"text":" ","type":"text"},{"type":"text","text":"as described in "},{"type":"reference","isActive":true,"identifier":"https:\/\/developer.apple.com\/library\/content\/documentation\/Cocoa\/Conceptual\/ProgrammingWithObjectiveC\/Conventions\/Conventions.html#\/\/apple_ref\/doc\/uid\/TP40011210-CH10-SW1"},{"text":" ","type":"text"},{"type":"text","text":"in "},{"identifier":"https:\/\/developer.apple.com\/library\/content\/documentation\/Cocoa\/Conceptual\/ProgrammingWithObjectiveC\/Introduction\/Introduction.html#\/\/apple_ref\/doc\/uid\/TP40011210","isActive":true,"type":"reference"},{"text":".","type":"text"},{"type":"text","text":" "},{"text":"The example below exposes","type":"text"},{"type":"text","text":" "},{"text":"the getter for the ","type":"text"},{"type":"codeVoice","code":"enabled"},{"text":" property of the ","type":"text"},{"code":"ExampleClass","type":"codeVoice"},{"type":"text","text":" "},{"text":"to Objective-C code as ","type":"text"},{"type":"codeVoice","code":"isEnabled"},{"type":"text","text":" "},{"type":"text","text":"rather than just as the name of the property itself."}],"type":"paragraph"},{"syntax":"swift","type":"codeListing","code":["class ExampleClass: NSObject {","    @objc var enabled: Bool {","        @objc(isEnabled) get {","            \/\/ Return the appropriate value","        }","    }","}"]},{"inlineContent":[{"type":"text","text":"For more information, see"},{"text":" ","type":"text"},{"identifier":"https:\/\/developer.apple.com\/documentation\/swift\/imported_c_and_objective-c_apis\/importing_swift_into_objective-c","isActive":true,"type":"reference"},{"text":".","type":"text"}],"type":"paragraph"},{"name":"Note","style":"note","content":[{"inlineContent":[{"text":"The argument to the ","type":"text"},{"code":"objc","type":"codeVoice"},{"text":" attribute","type":"text"},{"type":"text","text":" "},{"text":"can also change the runtime name for that declaration.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"You use the runtime name when calling functions"},{"type":"text","text":" "},{"text":"that interact with the Objective-C runtime,","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"like "},{"identifier":"https:\/\/developer.apple.com\/documentation\/foundation\/1395135-nsclassfromstring","type":"reference","isActive":true},{"type":"text","text":","},{"text":" ","type":"text"},{"type":"text","text":"and when specifying class names in an app’s Info.plist file."},{"text":" ","type":"text"},{"text":"If you specify a name by passing an argument,","type":"text"},{"text":" ","type":"text"},{"text":"that name is used as the name in Objective-C code","type":"text"},{"type":"text","text":" "},{"type":"text","text":"and as the runtime name."},{"type":"text","text":" "},{"type":"text","text":"If you omit the argument,"},{"text":" ","type":"text"},{"text":"the name used in Objective-C code matches the name in Swift code,","type":"text"},{"text":" ","type":"text"},{"text":"and the runtime name follows the normal Swift compiler convention","type":"text"},{"type":"text","text":" "},{"text":"of name mangling.","type":"text"}],"type":"paragraph"}],"type":"aside"},{"text":"objcMembers","type":"heading","anchor":"objcMembers","level":3},{"type":"paragraph","inlineContent":[{"text":"Apply this attribute to a class declaration,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"to implicitly apply the "},{"code":"objc","type":"codeVoice"},{"text":" attribute","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"to all Objective-C compatible members of the class,"},{"type":"text","text":" "},{"text":"its extensions, its subclasses, and all of the extensions of its subclasses.","type":"text"}]},{"inlineContent":[{"type":"text","text":"Most code should use the "},{"code":"objc","type":"codeVoice"},{"text":" attribute instead,","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"to expose only the declarations that are needed."},{"type":"text","text":" "},{"text":"If you need to expose many declarations,","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"you can group them in an extension that has the "},{"code":"objc","type":"codeVoice"},{"type":"text","text":" attribute."},{"type":"text","text":" "},{"type":"text","text":"The "},{"type":"codeVoice","code":"objcMembers"},{"type":"text","text":" attribute is a convenience for"},{"text":" ","type":"text"},{"type":"text","text":"libraries that make heavy use of"},{"type":"text","text":" "},{"text":"the introspection facilities of the Objective-C runtime.","type":"text"},{"type":"text","text":" "},{"text":"Applying the ","type":"text"},{"type":"codeVoice","code":"objc"},{"text":" attribute when it isn’t needed","type":"text"},{"text":" ","type":"text"},{"text":"can increase your binary size and adversely affect performance.","type":"text"}],"type":"paragraph"},{"anchor":"propertyWrapper","level":3,"text":"propertyWrapper","type":"heading"},{"type":"paragraph","inlineContent":[{"text":"Apply this attribute to a class, structure, or enumeration declaration","type":"text"},{"type":"text","text":" "},{"text":"to use that type as a property wrapper.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"When you apply this attribute to a type,"},{"text":" ","type":"text"},{"text":"you create a custom attribute with the same name as the type.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"Apply that new attribute to a property of a class, structure, or enumeration"},{"type":"text","text":" "},{"text":"to wrap access to the property through an instance of the wrapper type;","type":"text"},{"type":"text","text":" "},{"type":"text","text":"apply the attribute to a local stored variable declaration"},{"type":"text","text":" "},{"type":"text","text":"to wrap access to the variable the same way."},{"text":" ","type":"text"},{"text":"Computed variables, global variables, and constants can’t use property wrappers.","type":"text"}]},{"type":"paragraph","inlineContent":[{"text":"The wrapper must define a ","type":"text"},{"code":"wrappedValue","type":"codeVoice"},{"text":" instance property.","type":"text"},{"text":" ","type":"text"},{"text":"The ","type":"text"},{"type":"emphasis","inlineContent":[{"type":"text","text":"wrapped value"}]},{"text":" of the property","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"is the value that the getter and setter for this property expose."},{"text":" ","type":"text"},{"text":"In most cases, ","type":"text"},{"code":"wrappedValue","type":"codeVoice"},{"type":"text","text":" is a computed value,"},{"type":"text","text":" "},{"text":"but it can be a stored value instead.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"The wrapper defines and manages"},{"type":"text","text":" "},{"type":"text","text":"any underlying storage needed by its wrapped value."},{"text":" ","type":"text"},{"text":"The compiler synthesizes storage for the instance of the wrapper type","type":"text"},{"type":"text","text":" "},{"text":"by prefixing the name of the wrapped property with an underscore (","type":"text"},{"type":"codeVoice","code":"_"},{"text":") —","type":"text"},{"type":"text","text":" "},{"type":"text","text":"for example, the wrapper for "},{"type":"codeVoice","code":"someProperty"},{"type":"text","text":" is stored as "},{"type":"codeVoice","code":"_someProperty"},{"type":"text","text":"."},{"text":" ","type":"text"},{"type":"text","text":"The synthesized storage for the wrapper has an access control level of "},{"code":"private","type":"codeVoice"},{"text":".","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"A property that has a property wrapper"},{"text":" ","type":"text"},{"type":"text","text":"can include "},{"type":"codeVoice","code":"willSet"},{"text":" and ","type":"text"},{"code":"didSet","type":"codeVoice"},{"text":" blocks,","type":"text"},{"text":" ","type":"text"},{"text":"but it can’t override the compiler-synthesized ","type":"text"},{"type":"codeVoice","code":"get"},{"type":"text","text":" or "},{"type":"codeVoice","code":"set"},{"text":" blocks.","type":"text"}]},{"inlineContent":[{"type":"text","text":"Swift provides two forms of syntactic sugar"},{"text":" ","type":"text"},{"text":"for initialization of a property wrapper.","type":"text"},{"type":"text","text":" "},{"text":"You can use assignment syntax in the definition of a wrapped value","type":"text"},{"type":"text","text":" "},{"text":"to pass the expression on the right-hand side of the assignment","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"as the argument to the "},{"code":"wrappedValue","type":"codeVoice"},{"text":" parameter","type":"text"},{"type":"text","text":" "},{"text":"of the property wrapper’s initializer.","type":"text"},{"type":"text","text":" "},{"text":"You can also provide arguments to the attribute","type":"text"},{"type":"text","text":" "},{"text":"when you apply it to a property,","type":"text"},{"type":"text","text":" "},{"text":"and those arguments are passed to the property wrapper’s initializer.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"For example, in the code below,"},{"type":"text","text":" "},{"code":"SomeStruct","type":"codeVoice"},{"type":"text","text":" calls each of the initializers that "},{"type":"codeVoice","code":"SomeWrapper"},{"type":"text","text":" defines."}],"type":"paragraph"},{"code":["@propertyWrapper","struct SomeWrapper {","    var wrappedValue: Int","    var someValue: Double","    init() {","        self.wrappedValue = 100","        self.someValue = 12.3","    }","    init(wrappedValue: Int) {","        self.wrappedValue = wrappedValue","        self.someValue = 45.6","    }","    init(wrappedValue value: Int, custom: Double) {","        self.wrappedValue = value","        self.someValue = custom","    }","}","","struct SomeStruct {","    \/\/ Uses init()","    @SomeWrapper var a: Int","","    \/\/ Uses init(wrappedValue:)","    @SomeWrapper var b = 10","","    \/\/ Both use init(wrappedValue:custom:)","    @SomeWrapper(custom: 98.7) var c = 30","    @SomeWrapper(wrappedValue: 30, custom: 98.7) var d","}"],"type":"codeListing","syntax":"swift"},{"type":"paragraph","inlineContent":[{"text":"The ","type":"text"},{"type":"emphasis","inlineContent":[{"text":"projected value","type":"text"}]},{"text":" for a wrapped property is a second value","type":"text"},{"type":"text","text":" "},{"text":"that a property wrapper can use to expose additional functionality.","type":"text"},{"type":"text","text":" "},{"text":"The author of a property wrapper type","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"is responsible for determining the meaning of its projected value"},{"type":"text","text":" "},{"text":"and defining the interface that the projected value exposes.","type":"text"},{"type":"text","text":" "},{"text":"To project a value from a property wrapper,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"define a "},{"code":"projectedValue","type":"codeVoice"},{"type":"text","text":" instance property on the wrapper type."},{"text":" ","type":"text"},{"text":"The compiler synthesizes an identifier for the projected value","type":"text"},{"type":"text","text":" "},{"type":"text","text":"by prefixing the name of the wrapped property with a dollar sign ("},{"type":"codeVoice","code":"$"},{"type":"text","text":") —"},{"type":"text","text":" "},{"text":"for example, the projected value for ","type":"text"},{"code":"someProperty","type":"codeVoice"},{"type":"text","text":" is "},{"type":"codeVoice","code":"$someProperty"},{"type":"text","text":"."},{"type":"text","text":" "},{"type":"text","text":"The projected value has the same access control level"},{"text":" ","type":"text"},{"type":"text","text":"as the original wrapped property."}]},{"syntax":"swift","type":"codeListing","code":["@propertyWrapper","struct WrapperWithProjection {","    var wrappedValue: Int","    var projectedValue: SomeProjection {","        return SomeProjection(wrapper: self)","    }","}","struct SomeProjection {","    var wrapper: WrapperWithProjection","}","","struct SomeStruct {","    @WrapperWithProjection var x = 123","}","let s = SomeStruct()","s.x           \/\/ Int value","s.$x          \/\/ SomeProjection value","s.$x.wrapper  \/\/ WrapperWithProjection value"]},{"type":"heading","text":"resultBuilder","level":3,"anchor":"resultBuilder"},{"type":"paragraph","inlineContent":[{"text":"Apply this attribute to a class, structure, enumeration","type":"text"},{"type":"text","text":" "},{"type":"text","text":"to use that type as a result builder."},{"type":"text","text":" "},{"text":"A ","type":"text"},{"inlineContent":[{"text":"result builder","type":"text"}],"type":"emphasis"},{"text":" is a type","type":"text"},{"type":"text","text":" "},{"type":"text","text":"that builds a nested data structure step by step."},{"text":" ","type":"text"},{"text":"You use result builders to implement a domain-specific language (DSL)","type":"text"},{"type":"text","text":" "},{"text":"for creating nested data structures in a natural, declarative way.","type":"text"},{"text":" ","type":"text"},{"text":"For an example of how to use the ","type":"text"},{"code":"resultBuilder","type":"codeVoice"},{"type":"text","text":" attribute,"},{"type":"text","text":" "},{"text":"see ","type":"text"},{"type":"reference","identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/AdvancedOperators#Result-Builders","isActive":true},{"type":"text","text":"."}]},{"type":"heading","text":"Result-Building Methods","anchor":"Result-Building-Methods","level":4},{"inlineContent":[{"type":"text","text":"A result builder implements static methods described below."},{"text":" ","type":"text"},{"text":"Because all of the result builder’s functionality","type":"text"},{"type":"text","text":" "},{"type":"text","text":"is exposed through static methods,"},{"text":" ","type":"text"},{"text":"you don’t ever initialize an instance of that type.","type":"text"},{"type":"text","text":" "},{"text":"A result builder must implement either the ","type":"text"},{"code":"buildBlock(_:)","type":"codeVoice"},{"type":"text","text":" method"},{"type":"text","text":" "},{"type":"text","text":"or both the "},{"type":"codeVoice","code":"buildPartialBlock(first:)"},{"text":" ","type":"text"},{"type":"text","text":"and "},{"type":"codeVoice","code":"buildPartialBlock(accumulated:next:)"},{"text":" methods.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"The other methods —"},{"text":" ","type":"text"},{"text":"which enable additional functionality in the DSL —","type":"text"},{"text":" ","type":"text"},{"text":"are optional.","type":"text"},{"type":"text","text":" "},{"text":"The declaration of a result builder type","type":"text"},{"type":"text","text":" "},{"type":"text","text":"doesn’t actually have to include any protocol conformance."}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"The description of the static methods uses three types as placeholders."},{"text":" ","type":"text"},{"type":"text","text":"The type "},{"type":"codeVoice","code":"Expression"},{"text":" is a placeholder","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"for the type of the result builder’s input,"},{"type":"text","text":" "},{"type":"codeVoice","code":"Component"},{"type":"text","text":" is a placeholder for the type of a partial result,"},{"text":" ","type":"text"},{"type":"text","text":"and "},{"type":"codeVoice","code":"FinalResult"},{"text":" is a placeholder","type":"text"},{"type":"text","text":" "},{"text":"for the type of the result that the result builder produces.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"You replace these types with the actual types that your result builder uses."},{"type":"text","text":" "},{"text":"If your result-building methods","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"don’t specify a type for "},{"code":"Expression","type":"codeVoice"},{"type":"text","text":" or "},{"code":"FinalResult","type":"codeVoice"},{"type":"text","text":","},{"type":"text","text":" "},{"type":"text","text":"they default to being the same as "},{"code":"Component","type":"codeVoice"},{"type":"text","text":"."}],"type":"paragraph"},{"inlineContent":[{"text":"The block-building methods are as follows:","type":"text"}],"type":"paragraph"},{"type":"termList","items":[{"definition":{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Combines an array of partial results into a single partial result."}]}]},"term":{"inlineContent":[{"type":"codeVoice","code":"static func buildBlock(_ components: Component...) -> Component"}]}},{"definition":{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Builds a partial result component from the first component. Implement both this method and "},{"code":"buildPartialBlock(accumulated:next:)","type":"codeVoice"},{"text":" to support building blocks one component at a time. Compared to ","type":"text"},{"code":"buildBlock(_:)","type":"codeVoice"},{"text":", this approach reduces the need for generic overloads that handle different numbers of arguments.","type":"text"}]}]},"term":{"inlineContent":[{"type":"codeVoice","code":"static func buildPartialBlock(first: Component) -> Component"}]}},{"term":{"inlineContent":[{"code":"static func buildPartialBlock(accumulated: Component, next: Component) -> Component","type":"codeVoice"}]},"definition":{"content":[{"inlineContent":[{"text":"Builds a partial result component by combining an accumulated component with a new component. Implement both this method and ","type":"text"},{"type":"codeVoice","code":"buildPartialBlock(first:)"},{"text":" to support building blocks one component at a time. Compared to ","type":"text"},{"type":"codeVoice","code":"buildBlock(_:)"},{"type":"text","text":", this approach reduces the need for generic overloads that handle different numbers of arguments."}],"type":"paragraph"}]}}]},{"inlineContent":[{"type":"text","text":"A result builder can implement all three of the block-building methods listed above;"},{"text":" ","type":"text"},{"text":"in that case, availability determines which method is called.","type":"text"},{"text":" ","type":"text"},{"text":"By default, Swift calls the ","type":"text"},{"code":"buildPartialBlock(first:)","type":"codeVoice"},{"text":" and ","type":"text"},{"type":"codeVoice","code":"buildPartialBlock(accumulated:next:)"},{"text":" ","type":"text"},{"type":"text","text":"methods. To make Swift call "},{"type":"codeVoice","code":"buildBlock(_:)"},{"type":"text","text":" instead,"},{"text":" ","type":"text"},{"text":"mark the enclosing declaration as being available","type":"text"},{"type":"text","text":" "},{"type":"text","text":"before the availability you write on "},{"code":"buildPartialBlock(first:)","type":"codeVoice"},{"text":" and","type":"text"},{"type":"text","text":" "},{"type":"codeVoice","code":"buildPartialBlock(accumulated:next:)"},{"type":"text","text":"."}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The additional result-building methods are as follows:"}]},{"type":"termList","items":[{"definition":{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Builds a partial result from a partial result that can be "},{"code":"nil","type":"codeVoice"},{"type":"text","text":". Implement this method to support "},{"type":"codeVoice","code":"if"},{"type":"text","text":" statements that don’t include an "},{"code":"else","type":"codeVoice"},{"type":"text","text":" clause."}]}]},"term":{"inlineContent":[{"code":"static func buildOptional(_ component: Component?) -> Component","type":"codeVoice"}]}},{"term":{"inlineContent":[{"code":"static func buildEither(first: Component) -> Component","type":"codeVoice"}]},"definition":{"content":[{"inlineContent":[{"type":"text","text":"Builds a partial result whose value varies depending on some condition. Implement both this method and "},{"code":"buildEither(second:)","type":"codeVoice"},{"text":" to support ","type":"text"},{"type":"codeVoice","code":"switch"},{"text":" statements and ","type":"text"},{"type":"codeVoice","code":"if"},{"text":" statements that include an ","type":"text"},{"type":"codeVoice","code":"else"},{"type":"text","text":" clause."}],"type":"paragraph"}]}},{"definition":{"content":[{"inlineContent":[{"text":"Builds a partial result whose value varies depending on some condition. Implement both this method and ","type":"text"},{"code":"buildEither(first:)","type":"codeVoice"},{"type":"text","text":" to support "},{"code":"switch","type":"codeVoice"},{"text":" statements and ","type":"text"},{"type":"codeVoice","code":"if"},{"text":" statements that include an ","type":"text"},{"code":"else","type":"codeVoice"},{"text":" clause.","type":"text"}],"type":"paragraph"}]},"term":{"inlineContent":[{"code":"static func buildEither(second: Component) -> Component","type":"codeVoice"}]}},{"definition":{"content":[{"inlineContent":[{"text":"Builds a partial result from an array of partial results. Implement this method to support ","type":"text"},{"type":"codeVoice","code":"for"},{"type":"text","text":" loops."}],"type":"paragraph"}]},"term":{"inlineContent":[{"type":"codeVoice","code":"static func buildArray(_ components: [Component]) -> Component"}]}},{"term":{"inlineContent":[{"type":"codeVoice","code":"static func buildExpression(_ expression: Expression) -> Component"}]},"definition":{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Builds a partial result from an expression. You can implement this method to perform preprocessing — for example, converting expressions to an internal type — or to provide additional information for type inference at use sites."}]}]}},{"definition":{"content":[{"inlineContent":[{"type":"text","text":"Builds a final result from a partial result. You can implement this method as part of a result builder that uses a different type for partial and final results, or to perform other postprocessing on a result before returning it."}],"type":"paragraph"}]},"term":{"inlineContent":[{"type":"codeVoice","code":"static func buildFinalResult(_ component: Component) -> FinalResult"}]}},{"term":{"inlineContent":[{"type":"codeVoice","code":"static func buildLimitedAvailability(_ component: Component) -> Component"}]},"definition":{"content":[{"type":"paragraph","inlineContent":[{"text":"Builds a partial result that propagates or erases type information outside a compiler-control statement that performs an availability check. You can use this to erase type information that varies between the conditional branches.","type":"text"}]}]}}]},{"type":"paragraph","inlineContent":[{"text":"For example, the code below defines a simple result builder","type":"text"},{"text":" ","type":"text"},{"text":"that builds an array of integers.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"This code defines "},{"type":"codeVoice","code":"Component"},{"type":"text","text":" and "},{"type":"codeVoice","code":"Expression"},{"type":"text","text":" as type aliases,"},{"text":" ","type":"text"},{"type":"text","text":"to make it easier to match the examples below to the list of methods above."}]},{"type":"codeListing","syntax":"swift","code":["@resultBuilder","struct ArrayBuilder {","    typealias Component = [Int]","    typealias Expression = Int","    static func buildExpression(_ element: Expression) -> Component {","        return [element]","    }","    static func buildOptional(_ component: Component?) -> Component {","        guard let component = component else { return [] }","        return component","    }","    static func buildEither(first component: Component) -> Component {","        return component","    }","    static func buildEither(second component: Component) -> Component {","        return component","    }","    static func buildArray(_ components: [Component]) -> Component {","        return Array(components.joined())","    }","    static func buildBlock(_ components: Component...) -> Component {","        return Array(components.joined())","    }","}"]},{"level":4,"type":"heading","anchor":"Result-Transformations","text":"Result Transformations"},{"inlineContent":[{"text":"The following syntactic transformations are applied recursively","type":"text"},{"text":" ","type":"text"},{"text":"to turn code that uses result-builder syntax","type":"text"},{"type":"text","text":" "},{"text":"into code that calls the static methods of the result builder type:","type":"text"}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"If the result builder has a "},{"type":"codeVoice","code":"buildExpression(_:)"},{"text":" method,","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"each expression becomes a call to that method."},{"text":" ","type":"text"},{"type":"text","text":"This transformation is always first."},{"type":"text","text":" "},{"type":"text","text":"For example, the following declarations are equivalent:"}]},{"type":"codeListing","syntax":"swift","code":["@ArrayBuilder var builderNumber: [Int] { 10 }","var manualNumber = ArrayBuilder.buildExpression(10)"]}]},{"content":[{"inlineContent":[{"type":"text","text":"An assignment statement is transformed like an expression,"},{"text":" ","type":"text"},{"type":"text","text":"but is understood to evaluate to "},{"type":"codeVoice","code":"()"},{"type":"text","text":"."},{"text":" ","type":"text"},{"text":"You can define an overload of ","type":"text"},{"type":"codeVoice","code":"buildExpression(_:)"},{"type":"text","text":" "},{"type":"text","text":"that takes an argument of type "},{"type":"codeVoice","code":"()"},{"text":" to handle assignments specifically.","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"A branch statement that checks an availability condition","type":"text"},{"type":"text","text":" "},{"text":"becomes a call to the ","type":"text"},{"code":"buildLimitedAvailability(_:)","type":"codeVoice"},{"type":"text","text":" method."},{"text":" ","type":"text"},{"type":"text","text":"This transformation happens before the transformation into a call to"},{"type":"text","text":" "},{"type":"codeVoice","code":"buildEither(first:)"},{"text":", ","type":"text"},{"type":"codeVoice","code":"buildEither(second:)"},{"text":", or ","type":"text"},{"type":"codeVoice","code":"buildOptional(_:)"},{"type":"text","text":"."},{"type":"text","text":" "},{"type":"text","text":"You use the "},{"code":"buildLimitedAvailability(_:)","type":"codeVoice"},{"text":" method to erase type information","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"that changes depending on which branch is taken."},{"type":"text","text":" "},{"text":"For example,","type":"text"},{"type":"text","text":" "},{"text":"the ","type":"text"},{"code":"buildEither(first:)","type":"codeVoice"},{"type":"text","text":" and  "},{"type":"codeVoice","code":"buildEither(second:)"},{"type":"text","text":" methods below"},{"type":"text","text":" "},{"text":"use a generic type that captures type information about both branches.","type":"text"}]},{"code":["protocol Drawable {","    func draw() -> String","}","struct Text: Drawable {","    var content: String","    init(_ content: String) { self.content = content }","    func draw() -> String { return content }","}","struct Line<D: Drawable>: Drawable {","      var elements: [D]","      func draw() -> String {","        return elements.map { $0.draw() }.joined(separator: \"\")","    }","}","struct DrawEither<First: Drawable, Second: Drawable>: Drawable {","    var content: Drawable","    func draw() -> String { return content.draw() }","}","","@resultBuilder","struct DrawingBuilder {","    static func buildBlock<D: Drawable>(_ components: D...) -> Line<D> {","        return Line(elements: components)","    }","    static func buildEither<First, Second>(first: First)","            -> DrawEither<First, Second> {","        return DrawEither(content: first)","    }","    static func buildEither<First, Second>(second: Second)","            -> DrawEither<First, Second> {","        return DrawEither(content: second)","    }","}"],"syntax":"swift","type":"codeListing"},{"type":"paragraph","inlineContent":[{"text":"However, this approach causes a problem in code that has availability checks:","type":"text"}]},{"type":"codeListing","code":["@available(macOS 99, *)","struct FutureText: Drawable {","    var content: String","    init(_ content: String) { self.content = content }","    func draw() -> String { return content }","}","@DrawingBuilder var brokenDrawing: Drawable {","    if #available(macOS 99, *) {","        FutureText(\"Inside.future\")  \/\/ Problem","    } else {","        Text(\"Inside.present\")","    }","}","\/\/ The type of brokenDrawing is Line<DrawEither<Line<FutureText>, Line<Text>>>"],"syntax":"swift"},{"type":"paragraph","inlineContent":[{"type":"text","text":"In the code above,"},{"type":"text","text":" "},{"code":"FutureText","type":"codeVoice"},{"text":" appears as part of the type of ","type":"text"},{"code":"brokenDrawing","type":"codeVoice"},{"text":" ","type":"text"},{"text":"because it’s one of the types in the ","type":"text"},{"code":"DrawEither","type":"codeVoice"},{"type":"text","text":" generic type."},{"text":" ","type":"text"},{"type":"text","text":"This could cause your program to crash if "},{"type":"codeVoice","code":"FutureText"},{"type":"text","text":" "},{"text":"isn’t available at runtime,","type":"text"},{"type":"text","text":" "},{"text":"even in the case where that type is explicitly not being used.","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"To solve this problem,"},{"text":" ","type":"text"},{"text":"implement a ","type":"text"},{"type":"codeVoice","code":"buildLimitedAvailability(_:)"},{"text":" method","type":"text"},{"text":" ","type":"text"},{"text":"to erase type information.","type":"text"},{"text":" ","type":"text"},{"text":"For example, the code below builds an ","type":"text"},{"type":"codeVoice","code":"AnyDrawable"},{"text":" value","type":"text"},{"type":"text","text":" "},{"type":"text","text":"from its availability check."}]},{"type":"codeListing","syntax":"swift","code":["struct AnyDrawable: Drawable {","    var content: Drawable","    func draw() -> String { return content.draw() }","}","extension DrawingBuilder {","    static func buildLimitedAvailability(_ content: Drawable) -> AnyDrawable {","        return AnyDrawable(content: content)","    }","}","","@DrawingBuilder var typeErasedDrawing: Drawable {","    if #available(macOS 99, *) {","        FutureText(\"Inside.future\")","    } else {","        Text(\"Inside.present\")","    }","}","\/\/ The type of typeErasedDrawing is Line<DrawEither<AnyDrawable, Line<Text>>>"]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"A branch statement becomes a series of nested calls to the"},{"type":"text","text":" "},{"code":"buildEither(first:)","type":"codeVoice"},{"text":" and ","type":"text"},{"type":"codeVoice","code":"buildEither(second:)"},{"type":"text","text":" methods."},{"text":" ","type":"text"},{"type":"text","text":"The statements’ conditions and cases are mapped onto"},{"type":"text","text":" "},{"type":"text","text":"the leaf nodes of a binary tree,"},{"type":"text","text":" "},{"type":"text","text":"and the statement becomes"},{"text":" ","type":"text"},{"text":"a nested call to the ","type":"text"},{"type":"codeVoice","code":"buildEither"},{"type":"text","text":" methods"},{"type":"text","text":" "},{"text":"following the path to that leaf node from the root node.","type":"text"}]},{"inlineContent":[{"type":"text","text":"For example, if you write a switch statement that has three cases,"},{"text":" ","type":"text"},{"text":"the compiler uses a binary tree with three leaf nodes.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"Likewise,"},{"text":" ","type":"text"},{"type":"text","text":"because the path from the root node to the second case is"},{"text":" ","type":"text"},{"type":"text","text":"“second child” and then “first child”,"},{"text":" ","type":"text"},{"text":"that case becomes a nested call like","type":"text"},{"type":"text","text":" "},{"type":"codeVoice","code":"buildEither(first: buildEither(second: ... ))"},{"type":"text","text":"."},{"type":"text","text":" "},{"text":"The following declarations are equivalent:","type":"text"}],"type":"paragraph"},{"syntax":"swift","type":"codeListing","code":["let someNumber = 19","@ArrayBuilder var builderConditional: [Int] {","    if someNumber < 12 {","        31","    } else if someNumber == 19 {","        32","    } else {","        33","    }","}","","var manualConditional: [Int]","if someNumber < 12 {","    let partialResult = ArrayBuilder.buildExpression(31)","    let outerPartialResult = ArrayBuilder.buildEither(first: partialResult)","    manualConditional = ArrayBuilder.buildEither(first: outerPartialResult)","} else if someNumber == 19 {","    let partialResult = ArrayBuilder.buildExpression(32)","    let outerPartialResult = ArrayBuilder.buildEither(second: partialResult)","    manualConditional = ArrayBuilder.buildEither(first: outerPartialResult)","} else {","    let partialResult = ArrayBuilder.buildExpression(33)","    manualConditional = ArrayBuilder.buildEither(second: partialResult)","}"]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"A branch statement that might not produce a value,"},{"type":"text","text":" "},{"text":"like an ","type":"text"},{"type":"codeVoice","code":"if"},{"text":" statement without an ","type":"text"},{"type":"codeVoice","code":"else"},{"type":"text","text":" clause,"},{"type":"text","text":" "},{"type":"text","text":"becomes a call to "},{"type":"codeVoice","code":"buildOptional(_:)"},{"type":"text","text":"."},{"type":"text","text":" "},{"text":"If the ","type":"text"},{"code":"if","type":"codeVoice"},{"text":" statement’s condition is satisfied,","type":"text"},{"text":" ","type":"text"},{"text":"its code block is transformed and passed as the argument;","type":"text"},{"type":"text","text":" "},{"text":"otherwise, ","type":"text"},{"code":"buildOptional(_:)","type":"codeVoice"},{"type":"text","text":" is called with "},{"type":"codeVoice","code":"nil"},{"type":"text","text":" as its argument."},{"type":"text","text":" "},{"type":"text","text":"For example, the following declarations are equivalent:"}]},{"syntax":"swift","code":["@ArrayBuilder var builderOptional: [Int] {","    if (someNumber % 2) == 1 { 20 }","}","","var partialResult: [Int]? = nil","if (someNumber % 2) == 1 {","    partialResult = ArrayBuilder.buildExpression(20)","}","var manualOptional = ArrayBuilder.buildOptional(partialResult)"],"type":"codeListing"}]},{"content":[{"inlineContent":[{"type":"text","text":"If the result builder implements"},{"type":"text","text":" "},{"text":"the ","type":"text"},{"type":"codeVoice","code":"buildPartialBlock(first:)"},{"text":" ","type":"text"},{"text":"and ","type":"text"},{"type":"codeVoice","code":"buildPartialBlock(accumulated:next:)"},{"type":"text","text":" methods,"},{"text":" ","type":"text"},{"type":"text","text":"a code block or "},{"type":"codeVoice","code":"do"},{"type":"text","text":" statement becomes a call to those methods."},{"text":" ","type":"text"},{"text":"The first statement inside of the block","type":"text"},{"type":"text","text":" "},{"text":"is transformed to become an argument","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"to the "},{"type":"codeVoice","code":"buildPartialBlock(first:)"},{"text":" method,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"and the remaining statements become nested calls"},{"type":"text","text":" "},{"type":"text","text":"to the "},{"code":"buildPartialBlock(accumulated:next:)","type":"codeVoice"},{"type":"text","text":" method."},{"text":" ","type":"text"},{"text":"For example, the following declarations are equivalent:","type":"text"}],"type":"paragraph"},{"syntax":"swift","type":"codeListing","code":["struct DrawBoth<First: Drawable, Second: Drawable>: Drawable {","    var first: First","    var second: Second","    func draw() -> String { return first.draw() + second.draw() }","}","","@resultBuilder","struct DrawingPartialBlockBuilder {","    static func buildPartialBlock<D: Drawable>(first: D) -> D {","        return first","    }","    static func buildPartialBlock<Accumulated: Drawable, Next: Drawable>(","        accumulated: Accumulated, next: Next","    ) -> DrawBoth<Accumulated, Next> {","        return DrawBoth(first: accumulated, second: next)","    }","}","","@DrawingPartialBlockBuilder var builderBlock: some Drawable {","    Text(\"First\")","    Line(elements: [Text(\"Second\"), Text(\"Third\")])","    Text(\"Last\")","}","","let partialResult1 = DrawingPartialBlockBuilder.buildPartialBlock(first: Text(\"first\"))","let partialResult2 = DrawingPartialBlockBuilder.buildPartialBlock(","    accumulated: partialResult1,","    next: Line(elements: [Text(\"Second\"), Text(\"Third\")])",")","let manualResult = DrawingPartialBlockBuilder.buildPartialBlock(","    accumulated: partialResult2,","    next: Text(\"Last\")",")"]}]},{"content":[{"inlineContent":[{"text":"Otherwise, a code block or ","type":"text"},{"code":"do","type":"codeVoice"},{"text":" statement","type":"text"},{"type":"text","text":" "},{"type":"text","text":"becomes a call to the "},{"type":"codeVoice","code":"buildBlock(_:)"},{"text":" method.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"Each of the statements inside of the block is transformed,"},{"text":" ","type":"text"},{"type":"text","text":"one at a time,"},{"text":" ","type":"text"},{"type":"text","text":"and they become the arguments to the "},{"type":"codeVoice","code":"buildBlock(_:)"},{"text":" method.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"For example, the following declarations are equivalent:"}],"type":"paragraph"},{"syntax":"swift","type":"codeListing","code":["@ArrayBuilder var builderBlock: [Int] {","    100","    200","    300","}","","var manualBlock = ArrayBuilder.buildBlock(","    ArrayBuilder.buildExpression(100),","    ArrayBuilder.buildExpression(200),","    ArrayBuilder.buildExpression(300)",")"]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"A "},{"code":"for","type":"codeVoice"},{"text":" loop becomes a temporary variable, a ","type":"text"},{"type":"codeVoice","code":"for"},{"text":" loop,","type":"text"},{"type":"text","text":" "},{"text":"and call to the ","type":"text"},{"code":"buildArray(_:)","type":"codeVoice"},{"text":" method.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"The new "},{"type":"codeVoice","code":"for"},{"type":"text","text":" loop iterates over the sequence"},{"type":"text","text":" "},{"text":"and appends each partial result to that array.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"The temporary array is passed as the argument in the "},{"code":"buildArray(_:)","type":"codeVoice"},{"text":" call.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"For example, the following declarations are equivalent:"}]},{"code":["@ArrayBuilder var builderArray: [Int] {","    for i in 5...7 {","        100 + i","    }","}","","var temporary: [[Int]] = []","for i in 5...7 {","    let partialResult = ArrayBuilder.buildExpression(100 + i)","    temporary.append(partialResult)","}","let manualArray = ArrayBuilder.buildArray(temporary)"],"syntax":"swift","type":"codeListing"}]},{"content":[{"inlineContent":[{"type":"text","text":"If the result builder has a "},{"type":"codeVoice","code":"buildFinalResult(_:)"},{"text":" method,","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"the final result becomes a call to that method."},{"type":"text","text":" "},{"text":"This transformation is always last.","type":"text"}],"type":"paragraph"}]}]},{"inlineContent":[{"text":"Although the transformation behavior is described in terms of temporary variables,","type":"text"},{"type":"text","text":" "},{"text":"using a result builder doesn’t actually create any new declarations","type":"text"},{"type":"text","text":" "},{"text":"that are visible from the rest of your code.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"text":"You can’t use","type":"text"},{"text":" ","type":"text"},{"type":"codeVoice","code":"break"},{"type":"text","text":", "},{"type":"codeVoice","code":"continue"},{"text":", ","type":"text"},{"code":"defer","type":"codeVoice"},{"type":"text","text":", "},{"code":"guard","type":"codeVoice"},{"text":", or ","type":"text"},{"code":"return","type":"codeVoice"},{"type":"text","text":" statements,"},{"type":"text","text":" "},{"code":"while","type":"codeVoice"},{"type":"text","text":" statements,"},{"type":"text","text":" "},{"type":"text","text":"or "},{"code":"do","type":"codeVoice"},{"type":"text","text":"-"},{"code":"catch","type":"codeVoice"},{"type":"text","text":" statements"},{"text":" ","type":"text"},{"type":"text","text":"in the code that a result builder transforms."}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"The transformation process doesn’t change declarations in the code,"},{"text":" ","type":"text"},{"text":"which lets you use temporary constants and variables","type":"text"},{"type":"text","text":" "},{"type":"text","text":"to build up expressions piece by piece."},{"text":" ","type":"text"},{"type":"text","text":"It also doesn’t change"},{"type":"text","text":" "},{"type":"codeVoice","code":"throw"},{"type":"text","text":" statements,"},{"type":"text","text":" "},{"type":"text","text":"compile-time diagnostic statements,"},{"type":"text","text":" "},{"text":"or closures that contain a ","type":"text"},{"code":"return","type":"codeVoice"},{"type":"text","text":" statement."}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"Whenever possible, transformations are coalesced."},{"type":"text","text":" "},{"type":"text","text":"For example, the expression "},{"type":"codeVoice","code":"4 + 5 * 6"},{"type":"text","text":" becomes"},{"type":"text","text":" "},{"type":"codeVoice","code":"buildExpression(4 + 5 * 6)"},{"type":"text","text":" rather multiple calls to that function."},{"type":"text","text":" "},{"type":"text","text":"Likewise, nested branch statements become"},{"type":"text","text":" "},{"text":"a single binary tree of calls to the ","type":"text"},{"type":"codeVoice","code":"buildEither"},{"type":"text","text":" methods."}],"type":"paragraph"},{"text":"Custom Result-Builder Attributes","anchor":"Custom-Result-Builder-Attributes","level":4,"type":"heading"},{"type":"paragraph","inlineContent":[{"text":"Creating a result builder type creates a custom attribute with the same name.","type":"text"},{"type":"text","text":" "},{"text":"You can apply that attribute in the following places:","type":"text"}]},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"On a function declaration,","type":"text"},{"type":"text","text":" "},{"text":"the result builder builds the body of the function.","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"On a variable or subscript declaration that includes a getter,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"the result builder builds the body of the getter."}]}]},{"content":[{"inlineContent":[{"text":"On a parameter in a function declaration,","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"the result builder builds the body of a closure"},{"text":" ","type":"text"},{"type":"text","text":"that’s passed as the corresponding argument."}],"type":"paragraph"}]}]},{"inlineContent":[{"type":"text","text":"Applying a result builder attribute doesn’t impact ABI compatibility."},{"type":"text","text":" "},{"type":"text","text":"Applying a result builder attribute to a parameter"},{"type":"text","text":" "},{"type":"text","text":"makes that attribute part of the function’s interface,"},{"type":"text","text":" "},{"type":"text","text":"which can affect source compatibility."}],"type":"paragraph"},{"anchor":"requiresstoredpropertyinits","type":"heading","text":"requires_stored_property_inits","level":3},{"inlineContent":[{"type":"text","text":"Apply this attribute to a class declaration"},{"type":"text","text":" "},{"type":"text","text":"to require all stored properties within the class"},{"text":" ","type":"text"},{"type":"text","text":"to provide default values as part of their definitions."},{"type":"text","text":" "},{"text":"This attribute is inferred for any class","type":"text"},{"type":"text","text":" "},{"text":"that inherits from ","type":"text"},{"type":"codeVoice","code":"NSManagedObject"},{"type":"text","text":"."}],"type":"paragraph"},{"text":"testable","anchor":"testable","type":"heading","level":3},{"type":"paragraph","inlineContent":[{"type":"text","text":"Apply this attribute to an "},{"code":"import","type":"codeVoice"},{"type":"text","text":" declaration"},{"type":"text","text":" "},{"text":"to import that module with changes to its access control","type":"text"},{"text":" ","type":"text"},{"text":"that simplify testing the module’s code.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"Entities in the imported module"},{"type":"text","text":" "},{"type":"text","text":"that are marked with the "},{"type":"codeVoice","code":"internal"},{"type":"text","text":" access-level modifier"},{"type":"text","text":" "},{"text":"are imported as if they were declared with the ","type":"text"},{"type":"codeVoice","code":"public"},{"text":" access-level modifier.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"Classes and class members"},{"type":"text","text":" "},{"text":"that are marked with the ","type":"text"},{"type":"codeVoice","code":"internal"},{"text":" or ","type":"text"},{"code":"public","type":"codeVoice"},{"type":"text","text":" access-level modifier"},{"text":" ","type":"text"},{"type":"text","text":"are imported as if they were declared with the "},{"type":"codeVoice","code":"open"},{"text":" access-level modifier.","type":"text"},{"type":"text","text":" "},{"text":"The imported module must be compiled with testing enabled.","type":"text"}]},{"level":3,"text":"UIApplicationMain","anchor":"UIApplicationMain","type":"heading"},{"type":"paragraph","inlineContent":[{"text":"Apply this attribute to a class","type":"text"},{"type":"text","text":" "},{"type":"text","text":"to indicate that it’s the application delegate."},{"text":" ","type":"text"},{"type":"text","text":"Using this attribute is equivalent to calling the"},{"type":"text","text":" "},{"code":"UIApplicationMain","type":"codeVoice"},{"type":"text","text":" function and"},{"text":" ","type":"text"},{"text":"passing this class’s name as the name of the delegate class.","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"If you don’t use this attribute,"},{"type":"text","text":" "},{"type":"text","text":"supply a "},{"code":"main.swift","type":"codeVoice"},{"type":"text","text":" file with code at the top level"},{"type":"text","text":" "},{"text":"that calls the ","type":"text"},{"type":"reference","isActive":true,"identifier":"https:\/\/developer.apple.com\/documentation\/uikit\/1622933-uiapplicationmain"},{"type":"text","text":" function."},{"text":" ","type":"text"},{"text":"For example,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"if your app uses a custom subclass of "},{"type":"codeVoice","code":"UIApplication"},{"type":"text","text":" "},{"type":"text","text":"as its principal class,"},{"type":"text","text":" "},{"text":"call the ","type":"text"},{"code":"UIApplicationMain(_:_:_:_:)","type":"codeVoice"},{"text":" function","type":"text"},{"type":"text","text":" "},{"text":"instead of using this attribute.","type":"text"}]},{"inlineContent":[{"type":"text","text":"The Swift code you compile to make an executable"},{"type":"text","text":" "},{"type":"text","text":"can contain at most one top-level entry point,"},{"type":"text","text":" "},{"type":"text","text":"as discussed in "},{"type":"reference","isActive":true,"identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Declarations#Top-Level-Code"},{"type":"text","text":"."}],"type":"paragraph"},{"anchor":"unchecked","level":3,"text":"unchecked","type":"heading"},{"inlineContent":[{"type":"text","text":"Apply this attribute to a protocol type"},{"text":" ","type":"text"},{"text":"as part of a type declaration’s list of adopted protocols","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"to turn off enforcement of that protocol’s requirements."}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"text":"The only supported protocol is ","type":"text"},{"type":"reference","identifier":"https:\/\/developer.apple.com\/documentation\/swift\/sendable","isActive":true},{"text":".","type":"text"}]},{"text":"usableFromInline","level":3,"anchor":"usableFromInline","type":"heading"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Apply this attribute to a"},{"text":" ","type":"text"},{"text":"function, method, computed property, subscript,","type":"text"},{"type":"text","text":" "},{"text":"initializer, or deinitializer declaration","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"to allow that symbol to be used in inlinable code"},{"text":" ","type":"text"},{"type":"text","text":"that’s defined in the same module as the declaration."},{"type":"text","text":" "},{"text":"The declaration must have the ","type":"text"},{"type":"codeVoice","code":"internal"},{"type":"text","text":" access-level modifier."},{"type":"text","text":" "},{"type":"text","text":"A structure or class marked "},{"code":"usableFromInline","type":"codeVoice"},{"type":"text","text":" "},{"text":"can use only types that are public or ","type":"text"},{"type":"codeVoice","code":"usableFromInline"},{"type":"text","text":" for its properties."},{"type":"text","text":" "},{"text":"An enumeration marked ","type":"text"},{"type":"codeVoice","code":"usableFromInline"},{"type":"text","text":" "},{"type":"text","text":"can use only types that are public or "},{"type":"codeVoice","code":"usableFromInline"},{"text":" ","type":"text"},{"type":"text","text":"for the raw values and associated values of its cases."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Like the "},{"code":"public","type":"codeVoice"},{"text":" access-level modifier,","type":"text"},{"type":"text","text":" "},{"text":"this attribute","type":"text"},{"text":" ","type":"text"},{"text":"exposes the declaration as part of the module’s public interface.","type":"text"},{"text":" ","type":"text"},{"text":"Unlike ","type":"text"},{"code":"public","type":"codeVoice"},{"type":"text","text":","},{"text":" ","type":"text"},{"text":"the compiler doesn’t allow declarations marked with ","type":"text"},{"type":"codeVoice","code":"usableFromInline"},{"type":"text","text":" "},{"type":"text","text":"to be referenced by name in code outside the module,"},{"text":" ","type":"text"},{"text":"even though the declaration’s symbol is exported.","type":"text"},{"text":" ","type":"text"},{"text":"However, code outside the module might still be able","type":"text"},{"type":"text","text":" "},{"type":"text","text":"to interact with the declaration’s symbol by using runtime behavior."}]},{"type":"paragraph","inlineContent":[{"text":"Declarations marked with the ","type":"text"},{"type":"codeVoice","code":"inlinable"},{"type":"text","text":" attribute"},{"text":" ","type":"text"},{"text":"are implicitly usable from inlinable code.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"Although either "},{"code":"inlinable","type":"codeVoice"},{"text":" or ","type":"text"},{"type":"codeVoice","code":"usableFromInline"},{"type":"text","text":" "},{"text":"can be applied to ","type":"text"},{"type":"codeVoice","code":"internal"},{"type":"text","text":" declarations,"},{"text":" ","type":"text"},{"text":"applying both attributes is an error.","type":"text"}]},{"type":"heading","anchor":"warnunqualifiedaccess","text":"warn_unqualified_access","level":3},{"type":"paragraph","inlineContent":[{"text":"Apply this attribute to a","type":"text"},{"type":"text","text":" "},{"text":"top-level function, instance method, or class or static method","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"to trigger warnings when that function or method is used"},{"type":"text","text":" "},{"type":"text","text":"without a preceding qualifier,"},{"type":"text","text":" "},{"text":"such as a module name, type name, or instance variable or constant.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"Use this attribute to help discourage ambiguity between functions"},{"type":"text","text":" "},{"text":"with the same name that are accessible from the same scope.","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"For example,"},{"type":"text","text":" "},{"text":"the Swift standard library includes both a top-level","type":"text"},{"type":"text","text":" "},{"identifier":"https:\/\/developer.apple.com\/documentation\/swift\/1538339-min\/","isActive":true,"type":"reference"},{"text":" ","type":"text"},{"type":"text","text":"function and a"},{"type":"text","text":" "},{"type":"reference","identifier":"https:\/\/developer.apple.com\/documentation\/swift\/sequence\/1641174-min","isActive":true},{"type":"text","text":" "},{"type":"text","text":"method for sequences with comparable elements."},{"text":" ","type":"text"},{"type":"text","text":"The sequence method is declared with the "},{"type":"codeVoice","code":"warn_unqualified_access"},{"type":"text","text":" attribute"},{"type":"text","text":" "},{"type":"text","text":"to help reduce confusion"},{"type":"text","text":" "},{"text":"when attempting to use one or the other from within a ","type":"text"},{"type":"codeVoice","code":"Sequence"},{"type":"text","text":" extension."}]},{"anchor":"Declaration-Attributes-Used-by-Interface-Builder","level":3,"type":"heading","text":"Declaration Attributes Used by Interface Builder"},{"type":"paragraph","inlineContent":[{"text":"Interface Builder attributes are declaration attributes","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"used by Interface Builder to synchronize with Xcode."},{"type":"text","text":" "},{"type":"text","text":"Swift provides the following Interface Builder attributes:"},{"text":" ","type":"text"},{"type":"codeVoice","code":"IBAction"},{"type":"text","text":", "},{"type":"codeVoice","code":"IBSegueAction"},{"type":"text","text":", "},{"type":"codeVoice","code":"IBOutlet"},{"type":"text","text":","},{"type":"text","text":" "},{"type":"codeVoice","code":"IBDesignable"},{"type":"text","text":", and "},{"code":"IBInspectable","type":"codeVoice"},{"type":"text","text":"."},{"type":"text","text":" "},{"type":"text","text":"These attributes are conceptually the same as their"},{"type":"text","text":" "},{"type":"text","text":"Objective-C counterparts."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"You apply the "},{"type":"codeVoice","code":"IBOutlet"},{"type":"text","text":" and "},{"type":"codeVoice","code":"IBInspectable"},{"text":" attributes","type":"text"},{"type":"text","text":" "},{"type":"text","text":"to property declarations of a class."},{"type":"text","text":" "},{"type":"text","text":"You apply the "},{"type":"codeVoice","code":"IBAction"},{"type":"text","text":" and "},{"type":"codeVoice","code":"IBSegueAction"},{"type":"text","text":" attribute"},{"type":"text","text":" "},{"type":"text","text":"to method declarations of a class"},{"type":"text","text":" "},{"type":"text","text":"and the "},{"code":"IBDesignable","type":"codeVoice"},{"text":" attribute to class declarations.","type":"text"}]},{"inlineContent":[{"text":"Applying the ","type":"text"},{"type":"codeVoice","code":"IBAction"},{"text":", ","type":"text"},{"type":"codeVoice","code":"IBSegueAction"},{"type":"text","text":", "},{"type":"codeVoice","code":"IBOutlet"},{"text":",","type":"text"},{"type":"text","text":" "},{"type":"codeVoice","code":"IBDesignable"},{"text":", or ","type":"text"},{"code":"IBInspectable","type":"codeVoice"},{"text":" attribute","type":"text"},{"type":"text","text":" "},{"text":"also implies the ","type":"text"},{"code":"objc","type":"codeVoice"},{"type":"text","text":" attribute."}],"type":"paragraph"},{"type":"heading","level":2,"anchor":"Type-Attributes","text":"Type Attributes"},{"type":"paragraph","inlineContent":[{"type":"text","text":"You can apply type attributes to types only."}]},{"level":3,"type":"heading","anchor":"autoclosure","text":"autoclosure"},{"inlineContent":[{"type":"text","text":"Apply this attribute to delay the evaluation of an expression"},{"type":"text","text":" "},{"text":"by automatically wrapping that expression in a closure with no arguments.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"You apply it to a parameter’s type in a function or method declaration,"},{"text":" ","type":"text"},{"text":"for a parameter whose type is a function type that takes no arguments","type":"text"},{"type":"text","text":" "},{"type":"text","text":"and that returns a value of the type of the expression."},{"text":" ","type":"text"},{"type":"text","text":"For an example of how to use the "},{"code":"autoclosure","type":"codeVoice"},{"type":"text","text":" attribute,"},{"type":"text","text":" "},{"text":"see ","type":"text"},{"type":"reference","identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Closures#Autoclosures","isActive":true},{"text":" and ","type":"text"},{"type":"reference","isActive":true,"identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Types#Function-Type"},{"text":".","type":"text"}],"type":"paragraph"},{"level":3,"type":"heading","text":"convention","anchor":"convention"},{"inlineContent":[{"text":"Apply this attribute to the type of a function","type":"text"},{"text":" ","type":"text"},{"text":"to indicate its calling conventions.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"text":"The ","type":"text"},{"type":"codeVoice","code":"convention"},{"type":"text","text":" attribute always appears with"},{"text":" ","type":"text"},{"type":"text","text":"one of the following arguments:"}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"The ","type":"text"},{"code":"swift","type":"codeVoice"},{"text":" argument indicates a Swift function reference.","type":"text"},{"type":"text","text":" "},{"text":"This is the standard calling convention for function values in Swift.","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"The "},{"code":"block","type":"codeVoice"},{"type":"text","text":" argument indicates an Objective-C compatible block reference."},{"type":"text","text":" "},{"type":"text","text":"The function value is represented as a reference to the block object,"},{"type":"text","text":" "},{"type":"text","text":"which is an "},{"code":"id","type":"codeVoice"},{"type":"text","text":"-compatible Objective-C object that embeds its invocation"},{"type":"text","text":" "},{"type":"text","text":"function within the object."},{"text":" ","type":"text"},{"type":"text","text":"The invocation function uses the C calling convention."}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"The ","type":"text"},{"code":"c","type":"codeVoice"},{"type":"text","text":" argument indicates a C function reference."},{"type":"text","text":" "},{"text":"The function value carries no context and uses the C calling convention.","type":"text"}],"type":"paragraph"}]}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"With a few exceptions,"},{"text":" ","type":"text"},{"text":"a function of any calling convention can be used","type":"text"},{"text":" ","type":"text"},{"text":"when a function any other calling convention is needed.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"A nongeneric global function,"},{"text":" ","type":"text"},{"text":"a local function that doesn’t capture any local variables,","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"or a closure that doesn’t capture any local variables"},{"type":"text","text":" "},{"type":"text","text":"can be converted to the C calling convention."},{"text":" ","type":"text"},{"type":"text","text":"Other Swift functions can’t be converted to the C calling convention."},{"type":"text","text":" "},{"type":"text","text":"A function with the Objective-C block calling convention"},{"type":"text","text":" "},{"text":"can’t be converted to the C calling convention.","type":"text"}]},{"level":3,"type":"heading","text":"escaping","anchor":"escaping"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Apply this attribute to a parameter’s type in a function or method declaration"},{"text":" ","type":"text"},{"text":"to indicate that the parameter’s value can be stored for later execution.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"This means that the value is allowed to outlive the lifetime of the call."},{"type":"text","text":" "},{"text":"Function type parameters with the ","type":"text"},{"code":"escaping","type":"codeVoice"},{"type":"text","text":" type attribute"},{"text":" ","type":"text"},{"text":"require explicit use of ","type":"text"},{"type":"codeVoice","code":"self."},{"text":" for properties or methods.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"For an example of how to use the "},{"type":"codeVoice","code":"escaping"},{"type":"text","text":" attribute,"},{"text":" ","type":"text"},{"text":"see ","type":"text"},{"isActive":true,"type":"reference","identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Closures#Escaping-Closures"},{"text":".","type":"text"}]},{"level":3,"anchor":"Sendable","text":"Sendable","type":"heading"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Apply this attribute to the type of a function"},{"text":" ","type":"text"},{"text":"to indicate that the function or closure is sendable.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"Applying this attribute to a function type"},{"type":"text","text":" "},{"type":"text","text":"has the same meaning as conforming a non–function type"},{"type":"text","text":" "},{"type":"text","text":"to the "},{"overridingTitle":"Sendable","type":"reference","overridingTitleInlineContent":[{"type":"codeVoice","code":"Sendable"}],"isActive":true,"identifier":"https:\/\/developer.apple.com\/documentation\/swift\/sendable"},{"text":" protocol.","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"This attribute is inferred on functions and closures"},{"text":" ","type":"text"},{"text":"if the function or closure is used in a context","type":"text"},{"type":"text","text":" "},{"text":"that expects a sendable value,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"and the function or closure satisfies the requirements to be sendable."}]},{"inlineContent":[{"type":"text","text":"A sendable function type"},{"type":"text","text":" "},{"text":"is a subtype of the corresponding nonsendable function type.","type":"text"}],"type":"paragraph"},{"level":2,"text":"Switch Case Attributes","anchor":"Switch-Case-Attributes","type":"heading"},{"type":"paragraph","inlineContent":[{"type":"text","text":"You can apply switch case attributes to switch cases only."}]},{"text":"unknown","anchor":"unknown","level":3,"type":"heading"},{"type":"paragraph","inlineContent":[{"text":"Apply this attribute to a switch case","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"to indicate that it isn’t expected to be matched"},{"text":" ","type":"text"},{"text":"by any case of the enumeration that’s known","type":"text"},{"text":" ","type":"text"},{"text":"at the time the code is compiled.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"For an example of how to use the "},{"code":"unknown","type":"codeVoice"},{"type":"text","text":" attribute,"},{"text":" ","type":"text"},{"text":"see ","type":"text"},{"type":"reference","identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Statements#Switching-Over-Future-Enumeration-Cases","isActive":true},{"type":"text","text":"."}]},{"type":"aside","style":"note","content":[{"type":"paragraph","inlineContent":[{"text":"","type":"text"}]},{"inlineContent":[{"type":"emphasis","inlineContent":[{"type":"text","text":"attribute"}]},{"text":" → ","type":"text"},{"inlineContent":[{"code":"@","type":"codeVoice"}],"type":"strong"},{"type":"text","text":" "},{"type":"emphasis","inlineContent":[{"text":"attribute-name","type":"text"}]},{"type":"text","text":" "},{"inlineContent":[{"type":"text","text":"attribute-argument-clause"}],"type":"emphasis"},{"type":"emphasis","inlineContent":[{"text":"?","type":"text"}]},{"type":"text","text":" "},{"type":"text","text":"\n"},{"type":"emphasis","inlineContent":[{"text":"attribute-name","type":"text"}]},{"type":"text","text":" → "},{"inlineContent":[{"type":"text","text":"identifier"}],"type":"emphasis"},{"text":" ","type":"text"},{"type":"text","text":"\n"},{"type":"emphasis","inlineContent":[{"type":"text","text":"attribute-argument-clause"}]},{"text":" → ","type":"text"},{"inlineContent":[{"type":"codeVoice","code":"("}],"type":"strong"},{"type":"text","text":" "},{"type":"emphasis","inlineContent":[{"type":"text","text":"balanced-tokens"}]},{"type":"emphasis","inlineContent":[{"text":"?","type":"text"}]},{"type":"text","text":" "},{"type":"strong","inlineContent":[{"code":")","type":"codeVoice"}]},{"type":"text","text":" "},{"type":"text","text":"\n"},{"inlineContent":[{"text":"attributes","type":"text"}],"type":"emphasis"},{"text":" → ","type":"text"},{"type":"emphasis","inlineContent":[{"type":"text","text":"attribute"}]},{"type":"text","text":" "},{"type":"emphasis","inlineContent":[{"type":"text","text":"attributes"}]},{"inlineContent":[{"type":"text","text":"?"}],"type":"emphasis"}],"type":"paragraph"},{"inlineContent":[{"type":"emphasis","inlineContent":[{"text":"balanced-tokens","type":"text"}]},{"type":"text","text":" → "},{"inlineContent":[{"type":"text","text":"balanced-token"}],"type":"emphasis"},{"type":"text","text":" "},{"type":"emphasis","inlineContent":[{"type":"text","text":"balanced-tokens"}]},{"type":"emphasis","inlineContent":[{"type":"text","text":"?"}]},{"text":" ","type":"text"},{"text":"\n","type":"text"},{"inlineContent":[{"type":"text","text":"balanced-token"}],"type":"emphasis"},{"type":"text","text":" → "},{"type":"strong","inlineContent":[{"code":"(","type":"codeVoice"}]},{"type":"text","text":" "},{"type":"emphasis","inlineContent":[{"text":"balanced-tokens","type":"text"}]},{"inlineContent":[{"text":"?","type":"text"}],"type":"emphasis"},{"text":" ","type":"text"},{"type":"strong","inlineContent":[{"code":")","type":"codeVoice"}]},{"text":" ","type":"text"},{"text":"\n","type":"text"},{"type":"emphasis","inlineContent":[{"text":"balanced-token","type":"text"}]},{"type":"text","text":" → "},{"type":"strong","inlineContent":[{"code":"[","type":"codeVoice"}]},{"type":"text","text":" "},{"inlineContent":[{"text":"balanced-tokens","type":"text"}],"type":"emphasis"},{"inlineContent":[{"text":"?","type":"text"}],"type":"emphasis"},{"type":"text","text":" "},{"type":"strong","inlineContent":[{"code":"]","type":"codeVoice"}]},{"type":"text","text":" "},{"text":"\n","type":"text"},{"type":"emphasis","inlineContent":[{"type":"text","text":"balanced-token"}]},{"type":"text","text":" → "},{"type":"strong","inlineContent":[{"type":"codeVoice","code":"{"}]},{"text":" ","type":"text"},{"inlineContent":[{"type":"text","text":"balanced-tokens"}],"type":"emphasis"},{"type":"emphasis","inlineContent":[{"text":"?","type":"text"}]},{"text":" ","type":"text"},{"type":"strong","inlineContent":[{"code":"}","type":"codeVoice"}]},{"text":" ","type":"text"},{"text":"\n","type":"text"},{"type":"emphasis","inlineContent":[{"type":"text","text":"balanced-token"}]},{"text":" → Any identifier, keyword, literal, or operator ","type":"text"},{"type":"text","text":"\n"},{"type":"emphasis","inlineContent":[{"type":"text","text":"balanced-token"}]},{"text":" → Any punctuation except  ","type":"text"},{"type":"strong","inlineContent":[{"code":"(","type":"codeVoice"}]},{"type":"text","text":",  "},{"type":"strong","inlineContent":[{"type":"codeVoice","code":")"}]},{"type":"text","text":",  "},{"type":"strong","inlineContent":[{"type":"codeVoice","code":"["}]},{"type":"text","text":",  "},{"type":"strong","inlineContent":[{"type":"codeVoice","code":"]"}]},{"text":",  ","type":"text"},{"inlineContent":[{"type":"codeVoice","code":"{"}],"type":"strong"},{"type":"text","text":", or  "},{"inlineContent":[{"code":"}","type":"codeVoice"}],"type":"strong"}],"type":"paragraph"}],"name":"Grammar of an attribute"}],"kind":"content"}],"abstract":[{"text":"Add information to declarations and types.","type":"text"}],"references":{"https://developer.apple.com/documentation/swift/sendable":{"type":"link","url":"https:\/\/developer.apple.com\/documentation\/swift\/sendable","identifier":"https:\/\/developer.apple.com\/documentation\/swift\/sendable","title":"Sendable","titleInlineContent":[{"code":"Sendable","type":"codeVoice"}]},"https://developer.apple.com/documentation/swift/1538339-min/":{"type":"link","title":"min(_:_:)","identifier":"https:\/\/developer.apple.com\/documentation\/swift\/1538339-min\/","titleInlineContent":[{"code":"min(_:_:)","type":"codeVoice"}],"url":"https:\/\/developer.apple.com\/documentation\/swift\/1538339-min\/"},"https://developer.apple.com/library/content/documentation/Cocoa/Conceptual/ProgrammingWithObjectiveC/Conventions/Conventions.html#//apple_ref/doc/uid/TP40011210-CH10-SW1":{"type":"link","url":"https:\/\/developer.apple.com\/library\/content\/documentation\/Cocoa\/Conceptual\/ProgrammingWithObjectiveC\/Conventions\/Conventions.html#\/\/apple_ref\/doc\/uid\/TP40011210-CH10-SW1","identifier":"https:\/\/developer.apple.com\/library\/content\/documentation\/Cocoa\/Conceptual\/ProgrammingWithObjectiveC\/Conventions\/Conventions.html#\/\/apple_ref\/doc\/uid\/TP40011210-CH10-SW1","title":"Conventions","titleInlineContent":[{"type":"text","text":"Conventions"}]},"https://developer.apple.com/documentation/swift/referencewritablekeypath":{"type":"link","title":"ReferenceWritableKeyPath","identifier":"https:\/\/developer.apple.com\/documentation\/swift\/referencewritablekeypath","titleInlineContent":[{"code":"ReferenceWritableKeyPath","type":"codeVoice"}],"url":"https:\/\/developer.apple.com\/documentation\/swift\/referencewritablekeypath"},"doc://org.swift.tspl/documentation/The-Swift-Programming-Language":{"type":"topic","identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language","title":"The Swift Programming Language (5.9.2)","url":"\/documentation\/the-swift-programming-language","role":"collection","kind":"article","abstract":[]},"doc://org.swift.tspl/documentation/The-Swift-Programming-Language/Types#Function-Type":{"url":"\/documentation\/the-swift-programming-language\/types#Function-Type","type":"topic","identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Types#Function-Type","kind":"section","title":"Function Type","abstract":[]},"https://developer.apple.com/documentation/swift/expressiblebydictionaryliteral":{"type":"link","url":"https:\/\/developer.apple.com\/documentation\/swift\/expressiblebydictionaryliteral","identifier":"https:\/\/developer.apple.com\/documentation\/swift\/expressiblebydictionaryliteral","title":"ExpressibleByDictionaryLiteral","titleInlineContent":[{"code":"ExpressibleByDictionaryLiteral","type":"codeVoice"}]},"https://developer.apple.com/documentation/uikit/1622933-uiapplicationmain":{"type":"link","title":"UIApplicationMain(_:_:_:_:)","identifier":"https:\/\/developer.apple.com\/documentation\/uikit\/1622933-uiapplicationmain","titleInlineContent":[{"code":"UIApplicationMain(_:_:_:_:)","type":"codeVoice"}],"url":"https:\/\/developer.apple.com\/documentation\/uikit\/1622933-uiapplicationmain"},"doc://org.swift.tspl/documentation/The-Swift-Programming-Language/AdvancedOperators#Result-Builders":{"kind":"section","abstract":[],"type":"topic","url":"\/documentation\/the-swift-programming-language\/advancedoperators#Result-Builders","identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/AdvancedOperators#Result-Builders","title":"Result Builders"},"https://developer.apple.com/documentation/swift/expressiblebystringliteral":{"type":"link","url":"https:\/\/developer.apple.com\/documentation\/swift\/expressiblebystringliteral","identifier":"https:\/\/developer.apple.com\/documentation\/swift\/expressiblebystringliteral","title":"ExpressibleByStringLiteral","titleInlineContent":[{"code":"ExpressibleByStringLiteral","type":"codeVoice"}]},"https://developer.apple.com/documentation/swift/expressiblebyarrayliteral":{"type":"link","title":"ExpressibleByArrayLiteral","identifier":"https:\/\/developer.apple.com\/documentation\/swift\/expressiblebyarrayliteral","titleInlineContent":[{"code":"ExpressibleByArrayLiteral","type":"codeVoice"}],"url":"https:\/\/developer.apple.com\/documentation\/swift\/expressiblebyarrayliteral"},"https://developer.apple.com/documentation/swift/expressiblebydictionaryliteral/2294108-key":{"type":"link","url":"https:\/\/developer.apple.com\/documentation\/swift\/expressiblebydictionaryliteral\/2294108-key","identifier":"https:\/\/developer.apple.com\/documentation\/swift\/expressiblebydictionaryliteral\/2294108-key","title":"Key","titleInlineContent":[{"code":"Key","type":"codeVoice"}]},"https://developer.apple.com/documentation/swift/writablekeypath":{"type":"link","title":"WritableKeyPath","identifier":"https:\/\/developer.apple.com\/documentation\/swift\/writablekeypath","titleInlineContent":[{"code":"WritableKeyPath","type":"codeVoice"}],"url":"https:\/\/developer.apple.com\/documentation\/swift\/writablekeypath"},"doc://org.swift.tspl/documentation/The-Swift-Programming-Language/Attributes#propertyWrapper":{"identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Attributes#propertyWrapper","title":"propertyWrapper","type":"topic","abstract":[],"kind":"section","url":"\/documentation\/the-swift-programming-language\/attributes#propertyWrapper"},"https://help.apple.com/xcode/mac/current/#/dev04b3a04ba":{"type":"link","url":"https:\/\/help.apple.com\/xcode\/mac\/current\/#\/dev04b3a04ba","identifier":"https:\/\/help.apple.com\/xcode\/mac\/current\/#\/dev04b3a04ba","title":"Xcode Help","titleInlineContent":[{"type":"text","text":"Xcode Help"}]},"doc://org.swift.tspl/documentation/The-Swift-Programming-Language/Statements#Switching-Over-Future-Enumeration-Cases":{"url":"\/documentation\/the-swift-programming-language\/statements#Switching-Over-Future-Enumeration-Cases","type":"topic","identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Statements#Switching-Over-Future-Enumeration-Cases","kind":"section","title":"Switching Over Future Enumeration Cases","abstract":[]},"https://developer.apple.com/library/content/documentation/Cocoa/Conceptual/ProgrammingWithObjectiveC/Introduction/Introduction.html#//apple_ref/doc/uid/TP40011210":{"type":"link","title":"Programming with Objective-C","identifier":"https:\/\/developer.apple.com\/library\/content\/documentation\/Cocoa\/Conceptual\/ProgrammingWithObjectiveC\/Introduction\/Introduction.html#\/\/apple_ref\/doc\/uid\/TP40011210","titleInlineContent":[{"type":"text","text":"Programming with Objective-C"}],"url":"https:\/\/developer.apple.com\/library\/content\/documentation\/Cocoa\/Conceptual\/ProgrammingWithObjectiveC\/Introduction\/Introduction.html#\/\/apple_ref\/doc\/uid\/TP40011210"},"https://developer.apple.com/documentation/swift/keypath":{"type":"link","url":"https:\/\/developer.apple.com\/documentation\/swift\/keypath","identifier":"https:\/\/developer.apple.com\/documentation\/swift\/keypath","title":"KeyPath","titleInlineContent":[{"code":"KeyPath","type":"codeVoice"}]},"https://developer.apple.com/documentation/swift/imported_c_and_objective-c_apis/importing_swift_into_objective-c":{"type":"link","title":"Importing Swift into Objective-C","identifier":"https:\/\/developer.apple.com\/documentation\/swift\/imported_c_and_objective-c_apis\/importing_swift_into_objective-c","titleInlineContent":[{"type":"text","text":"Importing Swift into Objective-C"}],"url":"https:\/\/developer.apple.com\/documentation\/swift\/imported_c_and_objective-c_apis\/importing_swift_into_objective-c"},"doc://org.swift.tspl/documentation/The-Swift-Programming-Language/Expressions#Macro-Expansion-Expression":{"type":"topic","url":"\/documentation\/the-swift-programming-language\/expressions#Macro-Expansion-Expression","identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Expressions#Macro-Expansion-Expression","title":"Macro-Expansion Expression","abstract":[],"kind":"section"},"doc://org.swift.tspl/documentation/The-Swift-Programming-Language/Closures#Autoclosures":{"kind":"section","abstract":[],"identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Closures#Autoclosures","url":"\/documentation\/the-swift-programming-language\/closures#Autoclosures","type":"topic","title":"Autoclosures"},"https://developer.apple.com/documentation/swift/sequence/1641174-min":{"identifier":"https:\/\/developer.apple.com\/documentation\/swift\/sequence\/1641174-min","titleInlineContent":[{"code":"min()","type":"codeVoice"}],"title":"min()","type":"link","url":"https:\/\/developer.apple.com\/documentation\/swift\/sequence\/1641174-min"},"https://developer.apple.com/documentation/foundation/1395135-nsclassfromstring":{"type":"link","title":"NSClassFromString(_:)","identifier":"https:\/\/developer.apple.com\/documentation\/foundation\/1395135-nsclassfromstring","url":"https:\/\/developer.apple.com\/documentation\/foundation\/1395135-nsclassfromstring","titleInlineContent":[{"code":"NSClassFromString(_:)","type":"codeVoice"}]},"doc://org.swift.tspl/documentation/The-Swift-Programming-Language/Declarations#Top-Level-Code":{"identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Declarations#Top-Level-Code","abstract":[],"kind":"section","title":"Top-Level Code","type":"topic","url":"\/documentation\/the-swift-programming-language\/declarations#Top-Level-Code"},"doc://org.swift.tspl/documentation/The-Swift-Programming-Language/Attributes#inlinable":{"type":"topic","title":"inlinable","identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Attributes#inlinable","kind":"section","url":"\/documentation\/the-swift-programming-language\/attributes#inlinable","abstract":[]},"https://developer.apple.com/documentation/swift/keyvaluepairs":{"identifier":"https:\/\/developer.apple.com\/documentation\/swift\/keyvaluepairs","titleInlineContent":[{"code":"KeyValuePairs","type":"codeVoice"}],"title":"KeyValuePairs","type":"link","url":"https:\/\/developer.apple.com\/documentation\/swift\/keyvaluepairs"},"doc://org.swift.tspl/documentation/The-Swift-Programming-Language/Closures#Escaping-Closures":{"title":"Escaping Closures","type":"topic","abstract":[],"kind":"section","identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/Closures#Escaping-Closures","url":"\/documentation\/the-swift-programming-language\/closures#Escaping-Closures"}}}