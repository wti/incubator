{"sections":[],"kind":"article","metadata":{"title":"A Swift Tour"},"identifier":{"url":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language\/GuidedTour","interfaceLanguage":"swift"},"abstract":[{"type":"text","text":"Explore the features and syntax of Swift."}],"primaryContentSections":[{"kind":"content","content":[{"inlineContent":[{"text":"Tradition suggests that the first program in a new language","type":"text"},{"text":" ","type":"text"},{"text":"should print the words ‚ÄúHello, world!‚Äù on the screen.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"In Swift, this can be done in a single line:"}],"type":"paragraph"},{"syntax":"swift","code":["print(\"Hello, world!\")","\/\/ Prints \"Hello, world!\""],"type":"codeListing"},{"type":"paragraph","inlineContent":[{"type":"text","text":"This syntax should look familiar if you know another language ‚Äî"},{"type":"text","text":" "},{"text":"in Swift, this line of code is a complete program.","type":"text"},{"type":"text","text":" "},{"text":"You don‚Äôt need to import a separate library for functionality like","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"outputting text or handling strings."},{"type":"text","text":" "},{"type":"text","text":"Code written at global scope is used"},{"type":"text","text":" "},{"text":"as the entry point for the program,","type":"text"},{"type":"text","text":" "},{"text":"so you don‚Äôt need a ","type":"text"},{"code":"main()","type":"codeVoice"},{"type":"text","text":" function."},{"type":"text","text":" "},{"text":"You also don‚Äôt need to write semicolons","type":"text"},{"type":"text","text":" "},{"type":"text","text":"at the end of every statement."}]},{"inlineContent":[{"type":"text","text":"This tour gives you enough information"},{"type":"text","text":" "},{"type":"text","text":"to start writing code in Swift"},{"type":"text","text":" "},{"type":"text","text":"by showing you how to accomplish a variety of programming tasks."},{"type":"text","text":" "},{"type":"text","text":"Don‚Äôt worry if you don‚Äôt understand something ‚Äî"},{"text":" ","type":"text"},{"type":"text","text":"everything introduced in this tour"},{"type":"text","text":" "},{"type":"text","text":"is explained in detail in the rest of this book."}],"type":"paragraph"},{"level":2,"text":"Simple Values","type":"heading","anchor":"Simple-Values"},{"inlineContent":[{"type":"text","text":"Use "},{"code":"let","type":"codeVoice"},{"text":" to make a constant and ","type":"text"},{"code":"var","type":"codeVoice"},{"type":"text","text":" to make a variable."},{"type":"text","text":" "},{"type":"text","text":"The value of a constant"},{"type":"text","text":" "},{"text":"doesn‚Äôt need to be known at compile time,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"but you must assign it a value exactly once."},{"type":"text","text":" "},{"text":"This means you can use constants to name a value","type":"text"},{"text":" ","type":"text"},{"text":"that you determine once but use in many places.","type":"text"}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["var myVariable = 42","myVariable = 50","let myConstant = 42"]},{"type":"paragraph","inlineContent":[{"text":"A constant or variable must have the same type","type":"text"},{"type":"text","text":" "},{"text":"as the value you want to assign to it.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"However, you don‚Äôt always have to write the type explicitly."},{"type":"text","text":" "},{"type":"text","text":"Providing a value when you create a constant or variable"},{"type":"text","text":" "},{"type":"text","text":"lets the compiler infer its type."},{"text":" ","type":"text"},{"type":"text","text":"In the example above,"},{"type":"text","text":" "},{"type":"text","text":"the compiler infers that "},{"type":"codeVoice","code":"myVariable"},{"text":" is an integer","type":"text"},{"text":" ","type":"text"},{"text":"because its initial value is an integer.","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"If the initial value doesn‚Äôt provide enough information"},{"type":"text","text":" "},{"text":"(or if there isn‚Äôt an initial value),","type":"text"},{"type":"text","text":" "},{"text":"specify the type by writing it after the variable,","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"separated by a colon."}]},{"type":"codeListing","syntax":"swift","code":["let implicitInteger = 70","let implicitDouble = 70.0","let explicitDouble: Double = 70"]},{"style":"experiment","name":"Experiment","type":"aside","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Create a constant with"},{"text":" ","type":"text"},{"type":"text","text":"an explicit type of "},{"code":"Float","type":"codeVoice"},{"type":"text","text":" and a value of "},{"code":"4","type":"codeVoice"},{"type":"text","text":"."}]}]},{"inlineContent":[{"type":"text","text":"Values are never implicitly converted to another type."},{"type":"text","text":" "},{"text":"If you need to convert a value to a different type,","type":"text"},{"type":"text","text":" "},{"text":"explicitly make an instance of the desired type.","type":"text"}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["let label = \"The width is \"","let width = 94","let widthLabel = label + String(width)"]},{"name":"Experiment","style":"experiment","content":[{"type":"paragraph","inlineContent":[{"text":"Try removing the conversion to ","type":"text"},{"type":"codeVoice","code":"String"},{"text":" from the last line.","type":"text"},{"text":" ","type":"text"},{"text":"What error do you get?","type":"text"}]}],"type":"aside"},{"inlineContent":[{"type":"text","text":"There‚Äôs an even simpler way to include values in strings:"},{"type":"text","text":" "},{"type":"text","text":"Write the value in parentheses,"},{"type":"text","text":" "},{"text":"and write a backslash (","type":"text"},{"code":"\\","type":"codeVoice"},{"text":") before the parentheses.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"For example:"}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["let apples = 3","let oranges = 5","let appleSummary = \"I have \\(apples) apples.\"","let fruitSummary = \"I have \\(apples + oranges) pieces of fruit.\""]},{"type":"aside","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Use "},{"type":"codeVoice","code":"\\()"},{"type":"text","text":" to"},{"type":"text","text":" "},{"text":"include a floating-point calculation in a string","type":"text"},{"type":"text","text":" "},{"text":"and to include someone‚Äôs name in a greeting.","type":"text"}]}],"style":"experiment","name":"Experiment"},{"type":"paragraph","inlineContent":[{"text":"Use three double quotation marks (","type":"text"},{"code":"\"\"\"","type":"codeVoice"},{"type":"text","text":") for strings"},{"text":" ","type":"text"},{"type":"text","text":"that take up multiple lines."},{"text":" ","type":"text"},{"text":"Indentation at the start of each quoted line is removed,","type":"text"},{"type":"text","text":" "},{"text":"as long as it matches the indentation of the closing quotation marks.","type":"text"},{"type":"text","text":" "},{"text":"For example:","type":"text"}]},{"syntax":"swift","code":["let quotation = \"\"\"","        Even though there's whitespace to the left,","        the actual lines aren't indented.","            Except for this line.","        Double quotes (\") can appear without being escaped.","","        I still have \\(apples + oranges) pieces of fruit.","        \"\"\""],"type":"codeListing"},{"inlineContent":[{"text":"Create arrays and dictionaries using brackets (","type":"text"},{"type":"codeVoice","code":"[]"},{"text":"),","type":"text"},{"type":"text","text":" "},{"text":"and access their elements by writing","type":"text"},{"type":"text","text":" "},{"type":"text","text":"the index or key in brackets."},{"type":"text","text":" "},{"type":"text","text":"A comma is allowed after the last element."}],"type":"paragraph"},{"code":["var fruits = [\"strawberries\", \"limes\", \"tangerines\"]","fruits[1] = \"grapes\"","","var occupations = [","    \"Malcolm\": \"Captain\",","    \"Kaylee\": \"Mechanic\","," ]","occupations[\"Jayne\"] = \"Public Relations\""],"type":"codeListing","syntax":"swift"},{"inlineContent":[{"text":"Arrays automatically grow as you add elements.","type":"text"}],"type":"paragraph"},{"syntax":"swift","code":["fruits.append(\"blueberries\")","print(fruits)","\/\/ Prints \"[\"strawberries\", \"grapes\", \"tangerines\", \"blueberries\"]\""],"type":"codeListing"},{"type":"paragraph","inlineContent":[{"type":"text","text":"You also use brackets to write an empty array or dictionary."},{"text":" ","type":"text"},{"type":"text","text":"For an array, write "},{"type":"codeVoice","code":"[]"},{"text":",","type":"text"},{"text":" ","type":"text"},{"text":"and for a dictionary, write ","type":"text"},{"type":"codeVoice","code":"[:]"},{"type":"text","text":"."}]},{"syntax":"swift","code":["fruits = []","occupations = [:]"],"type":"codeListing"},{"type":"paragraph","inlineContent":[{"text":"If you‚Äôre assigning an empty array or dictionary to a new variable,","type":"text"},{"text":" ","type":"text"},{"text":"or another place where there isn‚Äôt any type information,","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"you need to specify the type."}]},{"code":["let emptyArray: [String] = []","let emptyDictionary: [String: Float] = [:]"],"type":"codeListing","syntax":"swift"},{"text":"Control Flow","type":"heading","level":2,"anchor":"Control-Flow"},{"inlineContent":[{"text":"Use ","type":"text"},{"code":"if","type":"codeVoice"},{"type":"text","text":" and "},{"type":"codeVoice","code":"switch"},{"type":"text","text":" to make conditionals,"},{"text":" ","type":"text"},{"text":"and use ","type":"text"},{"type":"codeVoice","code":"for"},{"type":"text","text":"-"},{"type":"codeVoice","code":"in"},{"type":"text","text":", "},{"type":"codeVoice","code":"while"},{"type":"text","text":", and "},{"type":"codeVoice","code":"repeat"},{"text":"-","type":"text"},{"type":"codeVoice","code":"while"},{"type":"text","text":" "},{"type":"text","text":"to make loops."},{"type":"text","text":" "},{"type":"text","text":"Parentheses around the condition or loop variable are optional."},{"text":" ","type":"text"},{"text":"Braces around the body are required.","type":"text"}],"type":"paragraph"},{"syntax":"swift","code":["let individualScores = [75, 43, 103, 87, 12]","var teamScore = 0","for score in individualScores {","    if score > 50 {","        teamScore += 3","    } else {","        teamScore += 1","    }","}","print(teamScore)","\/\/ Prints \"11\""],"type":"codeListing"},{"type":"paragraph","inlineContent":[{"text":"In an ","type":"text"},{"type":"codeVoice","code":"if"},{"text":" statement,","type":"text"},{"text":" ","type":"text"},{"text":"the conditional must be a Boolean expression ‚Äî","type":"text"},{"type":"text","text":" "},{"type":"text","text":"this means that code such as "},{"type":"codeVoice","code":"if score { ... }"},{"text":" is an error,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"not an implicit comparison to zero."}]},{"inlineContent":[{"type":"text","text":"You can write "},{"type":"codeVoice","code":"if"},{"text":" or ","type":"text"},{"type":"codeVoice","code":"switch"},{"type":"text","text":" "},{"text":"after the equal sign (","type":"text"},{"type":"codeVoice","code":"="},{"text":") of an assignment","type":"text"},{"type":"text","text":" "},{"text":"or after ","type":"text"},{"type":"codeVoice","code":"return"},{"type":"text","text":","},{"type":"text","text":" "},{"text":"to choose a value based on the condition.","type":"text"}],"type":"paragraph"},{"syntax":"swift","code":["let scoreDecoration = if teamScore > 10 {","    \"üéâ\"","} else {","    \"\"","}","print(\"Score:\", teamScore, scoreDecoration)","\/\/ Prints \"Score: 11 üéâ\""],"type":"codeListing"},{"type":"paragraph","inlineContent":[{"text":"You can use ","type":"text"},{"code":"if","type":"codeVoice"},{"type":"text","text":" and "},{"type":"codeVoice","code":"let"},{"text":" together","type":"text"},{"type":"text","text":" "},{"text":"to work with values that might be missing.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"These values are represented as optionals."},{"text":" ","type":"text"},{"text":"An optional value either contains a value","type":"text"},{"type":"text","text":" "},{"type":"text","text":"or contains "},{"code":"nil","type":"codeVoice"},{"text":" to indicate that a value is missing.","type":"text"},{"text":" ","type":"text"},{"text":"Write a question mark (","type":"text"},{"type":"codeVoice","code":"?"},{"text":") after the type of a value","type":"text"},{"type":"text","text":" "},{"text":"to mark the value as optional.","type":"text"}]},{"syntax":"swift","code":["var optionalString: String? = \"Hello\"","print(optionalString == nil)","\/\/ Prints \"false\"","","var optionalName: String? = \"John Appleseed\"","var greeting = \"Hello!\"","if let name = optionalName {","    greeting = \"Hello, \\(name)\"","}"],"type":"codeListing"},{"style":"experiment","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Change "},{"type":"codeVoice","code":"optionalName"},{"type":"text","text":" to "},{"code":"nil","type":"codeVoice"},{"type":"text","text":"."},{"text":" ","type":"text"},{"type":"text","text":"What greeting do you get?"},{"type":"text","text":" "},{"type":"text","text":"Add an "},{"code":"else","type":"codeVoice"},{"type":"text","text":" clause that sets a different greeting"},{"type":"text","text":" "},{"type":"text","text":"if "},{"type":"codeVoice","code":"optionalName"},{"text":" is ","type":"text"},{"code":"nil","type":"codeVoice"},{"text":".","type":"text"}]}],"type":"aside","name":"Experiment"},{"type":"paragraph","inlineContent":[{"text":"If the optional value is ","type":"text"},{"code":"nil","type":"codeVoice"},{"text":",","type":"text"},{"type":"text","text":" "},{"type":"text","text":"the conditional is "},{"type":"codeVoice","code":"false"},{"type":"text","text":" and the code in braces is skipped."},{"text":" ","type":"text"},{"text":"Otherwise, the optional value is unwrapped and assigned","type":"text"},{"type":"text","text":" "},{"type":"text","text":"to the constant after "},{"type":"codeVoice","code":"let"},{"type":"text","text":","},{"type":"text","text":" "},{"type":"text","text":"which makes the unwrapped value available"},{"type":"text","text":" "},{"type":"text","text":"inside the block of code."}]},{"inlineContent":[{"type":"text","text":"Another way to handle optional values"},{"type":"text","text":" "},{"text":"is to provide a default value using the ","type":"text"},{"type":"codeVoice","code":"??"},{"text":" operator.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"If the optional value is missing,"},{"text":" ","type":"text"},{"type":"text","text":"the default value is used instead."}],"type":"paragraph"},{"syntax":"swift","type":"codeListing","code":["let nickname: String? = nil","let fullName: String = \"John Appleseed\"","let informalGreeting = \"Hi \\(nickname ?? fullName)\""]},{"type":"paragraph","inlineContent":[{"type":"text","text":"You can use a shorter spelling to unwrap a value,"},{"type":"text","text":" "},{"type":"text","text":"using the same name for that unwrapped value."}]},{"code":["if let nickname {","    print(\"Hey, \\(nickname)\")","}","\/\/ Doesn't print anything, because nickname is nil."],"syntax":"swift","type":"codeListing"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Switches support any kind of data"},{"text":" ","type":"text"},{"type":"text","text":"and a wide variety of comparison operations ‚Äî"},{"type":"text","text":" "},{"type":"text","text":"they aren‚Äôt limited to integers"},{"text":" ","type":"text"},{"text":"and tests for equality.","type":"text"}]},{"syntax":"swift","code":["let vegetable = \"red pepper\"","switch vegetable {","case \"celery\":","    print(\"Add some raisins and make ants on a log.\")","case \"cucumber\", \"watercress\":","    print(\"That would make a good tea sandwich.\")","case let x where x.hasSuffix(\"pepper\"):","    print(\"Is it a spicy \\(x)?\")","default:","    print(\"Everything tastes good in soup.\")","}","\/\/ Prints \"Is it a spicy red pepper?\""],"type":"codeListing"},{"style":"experiment","content":[{"inlineContent":[{"text":"Try removing the default case.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"What error do you get?"}],"type":"paragraph"}],"type":"aside","name":"Experiment"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Notice how "},{"type":"codeVoice","code":"let"},{"text":" can be used in a pattern","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"to assign the value that matched the pattern"},{"type":"text","text":" "},{"type":"text","text":"to a constant."}]},{"inlineContent":[{"type":"text","text":"After executing the code inside the switch case that matched,"},{"type":"text","text":" "},{"text":"the program exits from the switch statement.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"Execution doesn‚Äôt continue to the next case,"},{"type":"text","text":" "},{"text":"so you don‚Äôt need to explicitly break out of the switch","type":"text"},{"text":" ","type":"text"},{"text":"at the end of each case‚Äôs code.","type":"text"}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"text":"You use ","type":"text"},{"code":"for","type":"codeVoice"},{"text":"-","type":"text"},{"type":"codeVoice","code":"in"},{"type":"text","text":" to iterate over items in a dictionary"},{"text":" ","type":"text"},{"type":"text","text":"by providing a pair of names to use"},{"type":"text","text":" "},{"text":"for each key-value pair.","type":"text"},{"type":"text","text":" "},{"text":"Dictionaries are an unordered collection,","type":"text"},{"type":"text","text":" "},{"text":"so their keys and values are iterated over","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"in an arbitrary order."}]},{"code":["let interestingNumbers = [","    \"Prime\": [2, 3, 5, 7, 11, 13],","    \"Fibonacci\": [1, 1, 2, 3, 5, 8],","    \"Square\": [1, 4, 9, 16, 25],","]","var largest = 0","for (_, numbers) in interestingNumbers {","    for number in numbers {","        if number > largest {","            largest = number","        }","    }","}","print(largest)","\/\/ Prints \"25\""],"type":"codeListing","syntax":"swift"},{"name":"Experiment","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Replace the "},{"code":"_","type":"codeVoice"},{"text":" with a variable name,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"and keep track of which kind of number was the largest."}]}],"style":"experiment","type":"aside"},{"inlineContent":[{"type":"text","text":"Use "},{"code":"while","type":"codeVoice"},{"text":" to repeat a block of code until a condition changes.","type":"text"},{"text":" ","type":"text"},{"text":"The condition of a loop can be at the end instead,","type":"text"},{"text":" ","type":"text"},{"text":"ensuring that the loop is run at least once.","type":"text"}],"type":"paragraph"},{"code":["var n = 2","while n < 100 {","    n *= 2","}","print(n)","\/\/ Prints \"128\"","","var m = 2","repeat {","    m *= 2","} while m < 100","print(m)","\/\/ Prints \"128\""],"syntax":"swift","type":"codeListing"},{"content":[{"inlineContent":[{"type":"text","text":""},{"type":"text","text":" "},{"text":"Change the condition from ","type":"text"},{"code":"m < 100","type":"codeVoice"},{"type":"text","text":" to "},{"code":"m < 0","type":"codeVoice"},{"type":"text","text":" "},{"type":"text","text":"to see how "},{"type":"codeVoice","code":"while"},{"text":" and ","type":"text"},{"code":"repeat","type":"codeVoice"},{"type":"text","text":"-"},{"code":"while","type":"codeVoice"},{"type":"text","text":" behave differently"},{"type":"text","text":" "},{"text":"when the loop condition is already true.","type":"text"}],"type":"paragraph"}],"name":"Experiment","type":"aside","style":"experiment"},{"type":"paragraph","inlineContent":[{"text":"You can keep an index in a loop","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"by using "},{"code":"..<","type":"codeVoice"},{"text":" to make a range of indexes.","type":"text"}]},{"type":"codeListing","syntax":"swift","code":["var total = 0","for i in 0..<4 {","    total += i","}","print(total)","\/\/ Prints \"6\""]},{"type":"paragraph","inlineContent":[{"text":"Use ","type":"text"},{"type":"codeVoice","code":"..<"},{"type":"text","text":" to make a range that omits its upper value,"},{"type":"text","text":" "},{"type":"text","text":"and use "},{"type":"codeVoice","code":"..."},{"type":"text","text":" to make a range that includes both values."}]},{"type":"heading","level":2,"text":"Functions and Closures","anchor":"Functions-and-Closures"},{"type":"paragraph","inlineContent":[{"text":"Use ","type":"text"},{"type":"codeVoice","code":"func"},{"text":" to declare a function.","type":"text"},{"text":" ","type":"text"},{"text":"Call a function by following its name","type":"text"},{"type":"text","text":" "},{"type":"text","text":"with a list of arguments in parentheses."},{"text":" ","type":"text"},{"type":"text","text":"Use "},{"type":"codeVoice","code":"->"},{"type":"text","text":" to separate the parameter names and types"},{"type":"text","text":" "},{"type":"text","text":"from the function‚Äôs return type."}]},{"type":"codeListing","syntax":"swift","code":["func greet(person: String, day: String) -> String {","    return \"Hello \\(person), today is \\(day).\"","}","greet(person: \"Bob\", day: \"Tuesday\")"]},{"name":"Experiment","content":[{"inlineContent":[{"type":"text","text":"Remove the "},{"type":"codeVoice","code":"day"},{"type":"text","text":" parameter."},{"text":" ","type":"text"},{"text":"Add a parameter to include today‚Äôs lunch special in the greeting.","type":"text"}],"type":"paragraph"}],"style":"experiment","type":"aside"},{"inlineContent":[{"type":"text","text":"By default,"},{"type":"text","text":" "},{"text":"functions use their parameter names","type":"text"},{"type":"text","text":" "},{"text":"as labels for their arguments.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"Write a custom argument label before the parameter name,"},{"type":"text","text":" "},{"type":"text","text":"or write "},{"code":"_","type":"codeVoice"},{"text":" to use no argument label.","type":"text"}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["func greet(_ person: String, on day: String) -> String {","    return \"Hello \\(person), today is \\(day).\"","}","greet(\"John\", on: \"Wednesday\")"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Use a tuple to make a compound value ‚Äî"},{"text":" ","type":"text"},{"type":"text","text":"for example, to return multiple values from a function."},{"type":"text","text":" "},{"text":"The elements of a tuple can be referred to","type":"text"},{"text":" ","type":"text"},{"text":"either by name or by number.","type":"text"}]},{"syntax":"swift","code":["func calculateStatistics(scores: [Int]) -> (min: Int, max: Int, sum: Int) {","    var min = scores[0]","    var max = scores[0]","    var sum = 0","","    for score in scores {","        if score > max {","            max = score","        } else if score < min {","            min = score","        }","        sum += score","    }","","    return (min, max, sum)","}","let statistics = calculateStatistics(scores: [5, 3, 100, 3, 9])","print(statistics.sum)","\/\/ Prints \"120\"","print(statistics.2)","\/\/ Prints \"120\""],"type":"codeListing"},{"inlineContent":[{"text":"Functions can be nested.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"Nested functions have access to variables"},{"text":" ","type":"text"},{"type":"text","text":"that were declared in the outer function."},{"text":" ","type":"text"},{"text":"You can use nested functions","type":"text"},{"type":"text","text":" "},{"type":"text","text":"to organize the code in a function"},{"type":"text","text":" "},{"text":"that‚Äôs long or complex.","type":"text"}],"type":"paragraph"},{"code":["func returnFifteen() -> Int {","    var y = 10","    func add() {","        y += 5","    }","    add()","    return y","}","returnFifteen()"],"type":"codeListing","syntax":"swift"},{"inlineContent":[{"text":"Functions are a first-class type.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"This means that a function can return another function as its value."}],"type":"paragraph"},{"code":["func makeIncrementer() -> ((Int) -> Int) {","    func addOne(number: Int) -> Int {","        return 1 + number","    }","    return addOne","}","var increment = makeIncrementer()","increment(7)"],"syntax":"swift","type":"codeListing"},{"inlineContent":[{"type":"text","text":"A function can take another function as one of its arguments."}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["func hasAnyMatches(list: [Int], condition: (Int) -> Bool) -> Bool {","    for item in list {","        if condition(item) {","            return true","        }","    }","    return false","}","func lessThanTen(number: Int) -> Bool {","    return number < 10","}","var numbers = [20, 19, 7, 12]","hasAnyMatches(list: numbers, condition: lessThanTen)"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Functions are actually a special case of closures:"},{"text":" ","type":"text"},{"text":"blocks of code that can be called later.","type":"text"},{"type":"text","text":" "},{"text":"The code in a closure has access to things like variables and functions","type":"text"},{"text":" ","type":"text"},{"text":"that were available in the scope where the closure was created,","type":"text"},{"type":"text","text":" "},{"text":"even if the closure is in a different scope when it‚Äôs executed ‚Äî","type":"text"},{"type":"text","text":" "},{"type":"text","text":"you saw an example of this already with nested functions."},{"type":"text","text":" "},{"type":"text","text":"You can write a closure without a name"},{"text":" ","type":"text"},{"text":"by surrounding code with braces (","type":"text"},{"code":"{}","type":"codeVoice"},{"text":").","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"Use "},{"type":"codeVoice","code":"in"},{"text":" to separate the arguments and return type from the body.","type":"text"}]},{"syntax":"swift","type":"codeListing","code":["numbers.map({ (number: Int) -> Int in","    let result = 3 * number","    return result","})"]},{"style":"experiment","content":[{"type":"paragraph","inlineContent":[{"text":"Rewrite the closure to return zero for all odd numbers.","type":"text"}]}],"name":"Experiment","type":"aside"},{"inlineContent":[{"text":"You have several options for writing closures more concisely.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"When a closure‚Äôs type is already known,"},{"text":" ","type":"text"},{"type":"text","text":"such as the callback for a delegate,"},{"type":"text","text":" "},{"type":"text","text":"you can omit the type of its parameters,"},{"type":"text","text":" "},{"text":"its return type, or both.","type":"text"},{"type":"text","text":" "},{"text":"Single statement closures implicitly return the value","type":"text"},{"type":"text","text":" "},{"text":"of their only statement.","type":"text"}],"type":"paragraph"},{"code":["let mappedNumbers = numbers.map({ number in 3 * number })","print(mappedNumbers)","\/\/ Prints \"[60, 57, 21, 36]\""],"syntax":"swift","type":"codeListing"},{"type":"paragraph","inlineContent":[{"text":"You can refer to parameters by number instead of by name ‚Äî","type":"text"},{"type":"text","text":" "},{"text":"this approach is especially useful in very short closures.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"A closure passed as the last argument to a function"},{"type":"text","text":" "},{"type":"text","text":"can appear immediately after the parentheses."},{"text":" ","type":"text"},{"type":"text","text":"When a closure is the only argument to a function,"},{"text":" ","type":"text"},{"text":"you can omit the parentheses entirely.","type":"text"}]},{"syntax":"swift","type":"codeListing","code":["let sortedNumbers = numbers.sorted { $0 > $1 }","print(sortedNumbers)","\/\/ Prints \"[20, 19, 12, 7]\""]},{"anchor":"Objects-and-Classes","type":"heading","level":2,"text":"Objects and Classes"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Use "},{"type":"codeVoice","code":"class"},{"type":"text","text":" followed by the class‚Äôs name to create a class."},{"type":"text","text":" "},{"text":"A property declaration in a class is written the same way","type":"text"},{"type":"text","text":" "},{"type":"text","text":"as a constant or variable declaration,"},{"text":" ","type":"text"},{"text":"except that it‚Äôs in the context of a class.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"Likewise, method and function declarations are written the same way."}]},{"type":"codeListing","syntax":"swift","code":["class Shape {","    var numberOfSides = 0","    func simpleDescription() -> String {","        return \"A shape with \\(numberOfSides) sides.\"","    }","}"]},{"type":"aside","name":"Experiment","style":"experiment","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Add a constant property with "},{"code":"let","type":"codeVoice"},{"text":",","type":"text"},{"type":"text","text":" "},{"type":"text","text":"and add another method that takes an argument."}]}]},{"inlineContent":[{"type":"text","text":"Create an instance of a class"},{"type":"text","text":" "},{"text":"by putting parentheses after the class name.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"Use dot syntax to access"},{"type":"text","text":" "},{"type":"text","text":"the properties and methods of the instance."}],"type":"paragraph"},{"syntax":"swift","code":["var shape = Shape()","shape.numberOfSides = 7","var shapeDescription = shape.simpleDescription()"],"type":"codeListing"},{"inlineContent":[{"type":"text","text":"This version of the "},{"code":"Shape","type":"codeVoice"},{"type":"text","text":" class is missing something important:"},{"type":"text","text":" "},{"type":"text","text":"an initializer to set up the class when an instance is created."},{"type":"text","text":" "},{"text":"Use ","type":"text"},{"type":"codeVoice","code":"init"},{"type":"text","text":" to create one."}],"type":"paragraph"},{"code":["class NamedShape {","    var numberOfSides: Int = 0","    var name: String","","    init(name: String) {","       self.name = name","    }","","    func simpleDescription() -> String {","       return \"A shape with \\(numberOfSides) sides.\"","    }","}"],"syntax":"swift","type":"codeListing"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Notice how "},{"type":"codeVoice","code":"self"},{"text":" is used to distinguish the ","type":"text"},{"code":"name","type":"codeVoice"},{"type":"text","text":" property"},{"type":"text","text":" "},{"text":"from the ","type":"text"},{"type":"codeVoice","code":"name"},{"text":" argument to the initializer.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"The arguments to the initializer are passed like a function call"},{"type":"text","text":" "},{"type":"text","text":"when you create an instance of the class."},{"type":"text","text":" "},{"type":"text","text":"Every property needs a value assigned ‚Äî"},{"text":" ","type":"text"},{"text":"either in its declaration (as with ","type":"text"},{"type":"codeVoice","code":"numberOfSides"},{"type":"text","text":")"},{"type":"text","text":" "},{"text":"or in the initializer (as with ","type":"text"},{"type":"codeVoice","code":"name"},{"type":"text","text":")."}]},{"type":"paragraph","inlineContent":[{"text":"Use ","type":"text"},{"code":"deinit","type":"codeVoice"},{"type":"text","text":" to create a deinitializer"},{"type":"text","text":" "},{"text":"if you need to perform some cleanup","type":"text"},{"text":" ","type":"text"},{"text":"before the object is deallocated.","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Subclasses include their superclass name"},{"type":"text","text":" "},{"type":"text","text":"after their class name,"},{"text":" ","type":"text"},{"text":"separated by a colon.","type":"text"},{"type":"text","text":" "},{"text":"There‚Äôs no requirement for classes to subclass any standard root class,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"so you can include or omit a superclass as needed."}]},{"inlineContent":[{"type":"text","text":"Methods on a subclass that override the superclass‚Äôs implementation"},{"type":"text","text":" "},{"text":"are marked with ","type":"text"},{"code":"override","type":"codeVoice"},{"type":"text","text":" ‚Äî"},{"text":" ","type":"text"},{"type":"text","text":"overriding a method by accident, without "},{"type":"codeVoice","code":"override"},{"text":",","type":"text"},{"type":"text","text":" "},{"type":"text","text":"is detected by the compiler as an error."},{"text":" ","type":"text"},{"type":"text","text":"The compiler also detects methods with "},{"type":"codeVoice","code":"override"},{"text":" ","type":"text"},{"text":"that don‚Äôt actually override any method in the superclass.","type":"text"}],"type":"paragraph"},{"type":"codeListing","code":["class Square: NamedShape {","    var sideLength: Double","","    init(sideLength: Double, name: String) {","        self.sideLength = sideLength","        super.init(name: name)","        numberOfSides = 4","    }","","    func area() -> Double {","        return sideLength * sideLength","    }","","    override func simpleDescription() -> String {","        return \"A square with sides of length \\(sideLength).\"","    }","}","let test = Square(sideLength: 5.2, name: \"my test square\")","test.area()","test.simpleDescription()"],"syntax":"swift"},{"type":"aside","style":"experiment","content":[{"inlineContent":[{"text":"Make another subclass of ","type":"text"},{"code":"NamedShape","type":"codeVoice"},{"type":"text","text":" "},{"text":"called ","type":"text"},{"code":"Circle","type":"codeVoice"},{"text":" ","type":"text"},{"type":"text","text":"that takes a radius and a name"},{"text":" ","type":"text"},{"type":"text","text":"as arguments to its initializer."},{"type":"text","text":" "},{"type":"text","text":"Implement an "},{"code":"area()","type":"codeVoice"},{"text":" and a ","type":"text"},{"code":"simpleDescription()","type":"codeVoice"},{"text":" method","type":"text"},{"type":"text","text":" "},{"text":"on the ","type":"text"},{"type":"codeVoice","code":"Circle"},{"text":" class.","type":"text"}],"type":"paragraph"}],"name":"Experiment"},{"type":"paragraph","inlineContent":[{"type":"text","text":"In addition to simple properties that are stored,"},{"type":"text","text":" "},{"type":"text","text":"properties can have a getter and a setter."}]},{"code":["class EquilateralTriangle: NamedShape {","    var sideLength: Double = 0.0","","    init(sideLength: Double, name: String) {","        self.sideLength = sideLength","        super.init(name: name)","        numberOfSides = 3","    }","","    var perimeter: Double {","        get {","             return 3.0 * sideLength","        }","        set {","            sideLength = newValue \/ 3.0","        }","    }","","    override func simpleDescription() -> String {","        return \"An equilateral triangle with sides of length \\(sideLength).\"","    }","}","var triangle = EquilateralTriangle(sideLength: 3.1, name: \"a triangle\")","print(triangle.perimeter)","\/\/ Prints \"9.3\"","triangle.perimeter = 9.9","print(triangle.sideLength)","\/\/ Prints \"3.3000000000000003\""],"type":"codeListing","syntax":"swift"},{"type":"paragraph","inlineContent":[{"type":"text","text":"In the setter for "},{"type":"codeVoice","code":"perimeter"},{"type":"text","text":","},{"type":"text","text":" "},{"type":"text","text":"the new value has the implicit name "},{"code":"newValue","type":"codeVoice"},{"type":"text","text":"."},{"text":" ","type":"text"},{"text":"You can provide an explicit name in parentheses after ","type":"text"},{"type":"codeVoice","code":"set"},{"type":"text","text":"."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Notice that the initializer for the "},{"type":"codeVoice","code":"EquilateralTriangle"},{"text":" class","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"has three different steps:"}]},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"Setting the value of properties that the subclass declares."}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Calling the superclass‚Äôs initializer."}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Changing the value of properties defined by the superclass."},{"type":"text","text":" "},{"text":"Any additional setup work that uses methods, getters, or setters","type":"text"},{"type":"text","text":" "},{"type":"text","text":"can also be done at this point."}]}]}],"type":"orderedList"},{"inlineContent":[{"type":"text","text":"If you don‚Äôt need to compute the property"},{"text":" ","type":"text"},{"text":"but still need to provide code that‚Äôs run before and after setting a new value,","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"use "},{"type":"codeVoice","code":"willSet"},{"text":" and ","type":"text"},{"type":"codeVoice","code":"didSet"},{"type":"text","text":"."},{"type":"text","text":" "},{"type":"text","text":"The code you provide is run any time the value changes outside of an initializer."},{"type":"text","text":" "},{"type":"text","text":"For example, the class below ensures"},{"text":" ","type":"text"},{"text":"that the side length of its triangle","type":"text"},{"text":" ","type":"text"},{"text":"is always the same as the side length of its square.","type":"text"}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["class TriangleAndSquare {","    var triangle: EquilateralTriangle {","        willSet {","            square.sideLength = newValue.sideLength","        }","    }","    var square: Square {","        willSet {","            triangle.sideLength = newValue.sideLength","        }","    }","    init(size: Double, name: String) {","        square = Square(sideLength: size, name: name)","        triangle = EquilateralTriangle(sideLength: size, name: name)","    }","}","var triangleAndSquare = TriangleAndSquare(size: 10, name: \"another test shape\")","print(triangleAndSquare.square.sideLength)","\/\/ Prints \"10.0\"","print(triangleAndSquare.triangle.sideLength)","\/\/ Prints \"10.0\"","triangleAndSquare.square = Square(sideLength: 50, name: \"larger square\")","print(triangleAndSquare.triangle.sideLength)","\/\/ Prints \"50.0\""]},{"type":"paragraph","inlineContent":[{"text":"When working with optional values,","type":"text"},{"text":" ","type":"text"},{"text":"you can write ","type":"text"},{"code":"?","type":"codeVoice"},{"type":"text","text":" before operations like methods, properties, and subscripting."},{"text":" ","type":"text"},{"text":"If the value before the ","type":"text"},{"type":"codeVoice","code":"?"},{"text":" is ","type":"text"},{"type":"codeVoice","code":"nil"},{"text":",","type":"text"},{"type":"text","text":" "},{"type":"text","text":"everything after the "},{"code":"?","type":"codeVoice"},{"type":"text","text":" is ignored"},{"type":"text","text":" "},{"type":"text","text":"and the value of the whole expression is "},{"code":"nil","type":"codeVoice"},{"type":"text","text":"."},{"type":"text","text":" "},{"type":"text","text":"Otherwise, the optional value is unwrapped,"},{"type":"text","text":" "},{"type":"text","text":"and everything after the "},{"code":"?","type":"codeVoice"},{"type":"text","text":" acts on the unwrapped value."},{"text":" ","type":"text"},{"type":"text","text":"In both cases,"},{"text":" ","type":"text"},{"type":"text","text":"the value of the whole expression is an optional value."}]},{"syntax":"swift","type":"codeListing","code":["let optionalSquare: Square? = Square(sideLength: 2.5, name: \"optional square\")","let sideLength = optionalSquare?.sideLength"]},{"type":"heading","anchor":"Enumerations-and-Structures","text":"Enumerations and Structures","level":2},{"type":"paragraph","inlineContent":[{"type":"text","text":"Use "},{"type":"codeVoice","code":"enum"},{"type":"text","text":" to create an enumeration."},{"text":" ","type":"text"},{"text":"Like classes and all other named types,","type":"text"},{"type":"text","text":" "},{"text":"enumerations can have methods associated with them.","type":"text"}]},{"code":["enum Rank: Int {","    case ace = 1","    case two, three, four, five, six, seven, eight, nine, ten","    case jack, queen, king","","    func simpleDescription() -> String {","        switch self {","        case .ace:","            return \"ace\"","        case .jack:","            return \"jack\"","        case .queen:","            return \"queen\"","        case .king:","            return \"king\"","        default:","            return String(self.rawValue)","        }","    }","}","let ace = Rank.ace","let aceRawValue = ace.rawValue"],"type":"codeListing","syntax":"swift"},{"type":"aside","style":"experiment","name":"Experiment","content":[{"type":"paragraph","inlineContent":[{"text":"Write a function that compares two ","type":"text"},{"type":"codeVoice","code":"Rank"},{"text":" values","type":"text"},{"text":" ","type":"text"},{"text":"by comparing their raw values.","type":"text"}]}]},{"inlineContent":[{"text":"By default, Swift assigns the raw values starting at zero","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"and incrementing by one each time,"},{"text":" ","type":"text"},{"type":"text","text":"but you can change this behavior by explicitly specifying values."},{"text":" ","type":"text"},{"type":"text","text":"In the example above, "},{"code":"Ace","type":"codeVoice"},{"type":"text","text":" is explicitly given a raw value of "},{"code":"1","type":"codeVoice"},{"type":"text","text":","},{"type":"text","text":" "},{"text":"and the rest of the raw values are assigned in order.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"You can also use strings or floating-point numbers"},{"text":" ","type":"text"},{"text":"as the raw type of an enumeration.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"Use the "},{"code":"rawValue","type":"codeVoice"},{"type":"text","text":" property to access the raw value of an enumeration case."}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"Use the "},{"type":"codeVoice","code":"init?(rawValue:)"},{"text":" initializer","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"to make an instance of an enumeration from a raw value."},{"text":" ","type":"text"},{"text":"It returns either the enumeration case matching the raw value","type":"text"},{"type":"text","text":" "},{"text":"or ","type":"text"},{"code":"nil","type":"codeVoice"},{"type":"text","text":" if there‚Äôs no matching "},{"type":"codeVoice","code":"Rank"},{"text":".","type":"text"}],"type":"paragraph"},{"code":["if let convertedRank = Rank(rawValue: 3) {","    let threeDescription = convertedRank.simpleDescription()","}"],"syntax":"swift","type":"codeListing"},{"type":"paragraph","inlineContent":[{"text":"The case values of an enumeration are actual values,","type":"text"},{"text":" ","type":"text"},{"text":"not just another way of writing their raw values.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"In fact,"},{"type":"text","text":" "},{"text":"in cases where there isn‚Äôt a meaningful raw value,","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"you don‚Äôt have to provide one."}]},{"type":"codeListing","syntax":"swift","code":["enum Suit {","    case spades, hearts, diamonds, clubs","","    func simpleDescription() -> String {","        switch self {","        case .spades:","            return \"spades\"","        case .hearts:","            return \"hearts\"","        case .diamonds:","            return \"diamonds\"","        case .clubs:","            return \"clubs\"","        }","    }","}","let hearts = Suit.hearts","let heartsDescription = hearts.simpleDescription()"]},{"name":"Experiment","style":"experiment","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Add a "},{"code":"color()","type":"codeVoice"},{"text":" method to ","type":"text"},{"type":"codeVoice","code":"Suit"},{"text":" that returns ‚Äúblack‚Äù","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"for spades and clubs, and returns ‚Äúred‚Äù for hearts and diamonds."}]}],"type":"aside"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Notice the two ways that the "},{"code":"hearts","type":"codeVoice"},{"text":" case of the enumeration","type":"text"},{"type":"text","text":" "},{"text":"is referred to above:","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"When assigning a value to the "},{"code":"hearts","type":"codeVoice"},{"text":" constant,","type":"text"},{"type":"text","text":" "},{"text":"the enumeration case ","type":"text"},{"type":"codeVoice","code":"Suit.hearts"},{"text":" is referred to by its full name","type":"text"},{"text":" ","type":"text"},{"text":"because the constant doesn‚Äôt have an explicit type specified.","type":"text"},{"type":"text","text":" "},{"text":"Inside the switch,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"the enumeration case is referred to by the abbreviated form "},{"type":"codeVoice","code":".hearts"},{"text":" ","type":"text"},{"type":"text","text":"because the value of "},{"code":"self","type":"codeVoice"},{"text":" is already known to be a suit.","type":"text"},{"text":" ","type":"text"},{"text":"You can use the abbreviated form","type":"text"},{"type":"text","text":" "},{"type":"text","text":"anytime the value‚Äôs type is already known."}]},{"type":"paragraph","inlineContent":[{"text":"If an enumeration has raw values,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"those values are determined as part of the declaration,"},{"type":"text","text":" "},{"text":"which means every instance of a particular enumeration case","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"always has the same raw value."},{"text":" ","type":"text"},{"text":"Another choice for enumeration cases","type":"text"},{"type":"text","text":" "},{"text":"is to have values associated with the case ‚Äî","type":"text"},{"type":"text","text":" "},{"text":"these values are determined when you make the instance,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"and they can be different for each instance of an enumeration case."},{"text":" ","type":"text"},{"type":"text","text":"You can think of the associated values"},{"text":" ","type":"text"},{"text":"as behaving like stored properties of the enumeration case instance.","type":"text"},{"type":"text","text":" "},{"text":"For example,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"consider the case of requesting"},{"type":"text","text":" "},{"type":"text","text":"the sunrise and sunset times from a server."},{"text":" ","type":"text"},{"type":"text","text":"The server either responds with the requested information,"},{"type":"text","text":" "},{"type":"text","text":"or it responds with a description of what went wrong."}]},{"code":["enum ServerResponse {","    case result(String, String)","    case failure(String)","}","","let success = ServerResponse.result(\"6:00 am\", \"8:09 pm\")","let failure = ServerResponse.failure(\"Out of cheese.\")","","switch success {","case let .result(sunrise, sunset):","    print(\"Sunrise is at \\(sunrise) and sunset is at \\(sunset).\")","case let .failure(message):","    print(\"Failure...  \\(message)\")","}","\/\/ Prints \"Sunrise is at 6:00 am and sunset is at 8:09 pm.\""],"type":"codeListing","syntax":"swift"},{"name":"Experiment","style":"experiment","type":"aside","content":[{"inlineContent":[{"type":"text","text":"Add a third case to "},{"type":"codeVoice","code":"ServerResponse"},{"text":" and to the switch.","type":"text"}],"type":"paragraph"}]},{"type":"paragraph","inlineContent":[{"text":"Notice how the sunrise and sunset times","type":"text"},{"type":"text","text":" "},{"type":"text","text":"are extracted from the "},{"code":"ServerResponse","type":"codeVoice"},{"text":" value","type":"text"},{"type":"text","text":" "},{"text":"as part of matching the value against the switch cases.","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Use "},{"type":"codeVoice","code":"struct"},{"type":"text","text":" to create a structure."},{"type":"text","text":" "},{"type":"text","text":"Structures support many of the same behaviors as classes,"},{"text":" ","type":"text"},{"type":"text","text":"including methods and initializers."},{"type":"text","text":" "},{"text":"One of the most important differences","type":"text"},{"type":"text","text":" "},{"text":"between structures and classes is that","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"structures are always copied when they‚Äôre passed around in your code,"},{"type":"text","text":" "},{"type":"text","text":"but classes are passed by reference."}]},{"syntax":"swift","type":"codeListing","code":["struct Card {","    var rank: Rank","    var suit: Suit","    func simpleDescription() -> String {","        return \"The \\(rank.simpleDescription()) of \\(suit.simpleDescription())\"","    }","}","let threeOfSpades = Card(rank: .three, suit: .spades)","let threeOfSpadesDescription = threeOfSpades.simpleDescription()"]},{"content":[{"inlineContent":[{"text":"Write a function that returns an array containing","type":"text"},{"type":"text","text":" "},{"type":"text","text":"a full deck of cards,"},{"text":" ","type":"text"},{"type":"text","text":"with one card of each combination of rank and suit."}],"type":"paragraph"}],"type":"aside","name":"Experiment","style":"experiment"},{"level":2,"text":"Concurrency","anchor":"Concurrency","type":"heading"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Use "},{"code":"async","type":"codeVoice"},{"text":" to mark a function that runs asynchronously.","type":"text"}]},{"syntax":"swift","code":["func fetchUserID(from server: String) async -> Int {","    if server == \"primary\" {","        return 97","    }","    return 501","}"],"type":"codeListing"},{"type":"paragraph","inlineContent":[{"type":"text","text":"You mark a call to an asynchronous function by writing "},{"code":"await","type":"codeVoice"},{"text":" in front of it.","type":"text"}]},{"syntax":"swift","type":"codeListing","code":["func fetchUsername(from server: String) async -> String {","    let userID = await fetchUserID(from: server)","    if userID == 501 {","        return \"John Appleseed\"","    }","    return \"Guest\"","}"]},{"inlineContent":[{"type":"text","text":"Use "},{"type":"codeVoice","code":"async let"},{"text":" to call an asynchronous function,","type":"text"},{"type":"text","text":" "},{"text":"letting it run in parallel with other asynchronous code.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"When you use the value it returns, write "},{"code":"await","type":"codeVoice"},{"text":".","type":"text"}],"type":"paragraph"},{"code":["func connectUser(to server: String) async {","    async let userID = fetchUserID(from: server)","    async let username = fetchUsername(from: server)","    let greeting = await \"Hello \\(username), user ID \\(userID)\"","    print(greeting)","}"],"type":"codeListing","syntax":"swift"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Use "},{"type":"codeVoice","code":"Task"},{"text":" to call asynchronous functions from synchronous code,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"without waiting for them to return."}]},{"code":["Task {","    await connectUser(to: \"primary\")","}","\/\/ Prints \"Hello Guest, user ID 97\""],"type":"codeListing","syntax":"swift"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Use task groups to structure concurrent code."}]},{"type":"codeListing","code":["let userIDs = await withTaskGroup(of: Int.self) { group in","    for server in [\"primary\", \"secondary\", \"development\"] {","        group.addTask {","            return await fetchUserID(from: server)","        }","    }","","    var results: [Int] = []","    for await result in group {","        results.append(result)","    }","    return results","}"],"syntax":"swift"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Actors are similar to classes,"},{"type":"text","text":" "},{"text":"except they ensure that different asynchronous functions","type":"text"},{"text":" ","type":"text"},{"text":"can safely interact with an instance of the same actor at the same time.","type":"text"}]},{"syntax":"swift","code":["actor ServerConnection {","    var server: String = \"primary\"","    private var activeUsers: [Int] = []","    func connect() async -> Int {","        let userID = await fetchUserID(from: server)","        \/\/ ... communicate with server ...","        activeUsers.append(userID)","        return userID","    }","}"],"type":"codeListing"},{"inlineContent":[{"text":"When you call a method on an actor or access one of its properties,","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"you mark that code with "},{"type":"codeVoice","code":"await"},{"text":" ","type":"text"},{"text":"to indicate that it might have to wait for other code","type":"text"},{"type":"text","text":" "},{"text":"that‚Äôs already running on the actor to finish.","type":"text"}],"type":"paragraph"},{"code":["let server = ServerConnection()","let userID = await server.connect()"],"type":"codeListing","syntax":"swift"},{"type":"heading","level":2,"anchor":"Protocols-and-Extensions","text":"Protocols and Extensions"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Use "},{"code":"protocol","type":"codeVoice"},{"type":"text","text":" to declare a protocol."}]},{"code":["protocol ExampleProtocol {","     var simpleDescription: String { get }","     mutating func adjust()","}"],"syntax":"swift","type":"codeListing"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Classes, enumerations, and structures can all adopt protocols."}]},{"syntax":"swift","type":"codeListing","code":["class SimpleClass: ExampleProtocol {","     var simpleDescription: String = \"A very simple class.\"","     var anotherProperty: Int = 69105","     func adjust() {","          simpleDescription += \"  Now 100% adjusted.\"","     }","}","var a = SimpleClass()","a.adjust()","let aDescription = a.simpleDescription","","struct SimpleStructure: ExampleProtocol {","     var simpleDescription: String = \"A simple structure\"","     mutating func adjust() {","          simpleDescription += \" (adjusted)\"","     }","}","var b = SimpleStructure()","b.adjust()","let bDescription = b.simpleDescription"]},{"name":"Experiment","style":"experiment","content":[{"inlineContent":[{"type":"text","text":"Add another requirement to "},{"type":"codeVoice","code":"ExampleProtocol"},{"text":".","type":"text"},{"type":"text","text":" "},{"type":"text","text":"What changes do you need to make"},{"text":" ","type":"text"},{"text":"to ","type":"text"},{"code":"SimpleClass","type":"codeVoice"},{"text":" and ","type":"text"},{"type":"codeVoice","code":"SimpleStructure"},{"text":" ","type":"text"},{"text":"so that they still conform to the protocol?","type":"text"}],"type":"paragraph"}],"type":"aside"},{"inlineContent":[{"type":"text","text":"Notice the use of the "},{"code":"mutating","type":"codeVoice"},{"text":" keyword","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"in the declaration of "},{"type":"codeVoice","code":"SimpleStructure"},{"text":" ","type":"text"},{"type":"text","text":"to mark a method that modifies the structure."},{"type":"text","text":" "},{"text":"The declaration of ","type":"text"},{"type":"codeVoice","code":"SimpleClass"},{"type":"text","text":" doesn‚Äôt need"},{"type":"text","text":" "},{"text":"any of its methods marked as mutating","type":"text"},{"type":"text","text":" "},{"text":"because methods on a class can always modify the class.","type":"text"}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Use "},{"code":"extension","type":"codeVoice"},{"text":" to add functionality to an existing type,","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"such as new methods and computed properties."},{"text":" ","type":"text"},{"type":"text","text":"You can use an extension to add protocol conformance"},{"text":" ","type":"text"},{"type":"text","text":"to a type that‚Äôs declared elsewhere,"},{"type":"text","text":" "},{"type":"text","text":"or even to a type that you imported from a library or framework."}]},{"type":"codeListing","code":["extension Int: ExampleProtocol {","    var simpleDescription: String {","        return \"The number \\(self)\"","    }","    mutating func adjust() {","        self += 42","    }"," }","print(7.simpleDescription)","\/\/ Prints \"The number 7\""],"syntax":"swift"},{"style":"experiment","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Write an extension for the "},{"code":"Double","type":"codeVoice"},{"text":" type","type":"text"},{"text":" ","type":"text"},{"text":"that adds an ","type":"text"},{"code":"absoluteValue","type":"codeVoice"},{"type":"text","text":" property."}]}],"name":"Experiment","type":"aside"},{"inlineContent":[{"text":"You can use a protocol name just like any other named type ‚Äî","type":"text"},{"type":"text","text":" "},{"text":"for example, to create a collection of objects","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"that have different types"},{"type":"text","text":" "},{"text":"but that all conform to a single protocol.","type":"text"},{"text":" ","type":"text"},{"text":"When you work with values whose type is a boxed protocol type,","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"methods outside the protocol definition aren‚Äôt available."}],"type":"paragraph"},{"code":["let protocolValue: any ExampleProtocol = a","print(protocolValue.simpleDescription)","\/\/ Prints \"A very simple class.  Now 100% adjusted.\"","\/\/ print(protocolValue.anotherProperty)  \/\/ Uncomment to see the error"],"syntax":"swift","type":"codeListing"},{"inlineContent":[{"text":"Even though the variable ","type":"text"},{"type":"codeVoice","code":"protocolValue"},{"text":" ","type":"text"},{"text":"has a runtime type of ","type":"text"},{"code":"SimpleClass","type":"codeVoice"},{"type":"text","text":","},{"text":" ","type":"text"},{"text":"the compiler treats it as the given type of ","type":"text"},{"code":"ExampleProtocol","type":"codeVoice"},{"type":"text","text":"."},{"text":" ","type":"text"},{"type":"text","text":"This means that you can‚Äôt accidentally access"},{"text":" ","type":"text"},{"text":"methods or properties that the class implements","type":"text"},{"text":" ","type":"text"},{"text":"in addition to its protocol conformance.","type":"text"}],"type":"paragraph"},{"type":"heading","text":"Error Handling","level":2,"anchor":"Error-Handling"},{"inlineContent":[{"type":"text","text":"You represent errors using any type that adopts the "},{"type":"codeVoice","code":"Error"},{"text":" protocol.","type":"text"}],"type":"paragraph"},{"code":["enum PrinterError: Error {","    case outOfPaper","    case noToner","    case onFire","}"],"type":"codeListing","syntax":"swift"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Use "},{"code":"throw","type":"codeVoice"},{"type":"text","text":" to throw an error"},{"type":"text","text":" "},{"type":"text","text":"and "},{"type":"codeVoice","code":"throws"},{"text":" to mark a function that can throw an error.","type":"text"},{"text":" ","type":"text"},{"text":"If you throw an error in a function,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"the function returns immediately and the code that called the function"},{"type":"text","text":" "},{"type":"text","text":"handles the error."}]},{"type":"codeListing","code":["func send(job: Int, toPrinter printerName: String) throws -> String {","    if printerName == \"Never Has Toner\" {","        throw PrinterError.noToner","    }","    return \"Job sent\"","}"],"syntax":"swift"},{"type":"paragraph","inlineContent":[{"text":"There are several ways to handle errors.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"One way is to use "},{"code":"do","type":"codeVoice"},{"text":"-","type":"text"},{"type":"codeVoice","code":"catch"},{"type":"text","text":"."},{"text":" ","type":"text"},{"type":"text","text":"Inside the "},{"type":"codeVoice","code":"do"},{"text":" block,","type":"text"},{"type":"text","text":" "},{"text":"you mark code that can throw an error by writing ","type":"text"},{"type":"codeVoice","code":"try"},{"text":" in front of it.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"Inside the "},{"type":"codeVoice","code":"catch"},{"type":"text","text":" block,"},{"type":"text","text":" "},{"text":"the error is automatically given the name ","type":"text"},{"type":"codeVoice","code":"error"},{"text":" ","type":"text"},{"text":"unless you give it a different name.","type":"text"}]},{"type":"codeListing","syntax":"swift","code":["do {","    let printerResponse = try send(job: 1040, toPrinter: \"Bi Sheng\")","    print(printerResponse)","} catch {","    print(error)","}","\/\/ Prints \"Job sent\""]},{"content":[{"inlineContent":[{"type":"text","text":"Change the printer name to "},{"type":"codeVoice","code":"\"Never Has Toner\""},{"text":",","type":"text"},{"type":"text","text":" "},{"type":"text","text":"so that the "},{"type":"codeVoice","code":"send(job:toPrinter:)"},{"type":"text","text":" function throws an error."}],"type":"paragraph"}],"type":"aside","style":"experiment","name":"Experiment"},{"inlineContent":[{"type":"text","text":"You can provide multiple "},{"code":"catch","type":"codeVoice"},{"type":"text","text":" blocks"},{"type":"text","text":" "},{"text":"that handle specific errors.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"You write a pattern after "},{"type":"codeVoice","code":"catch"},{"type":"text","text":" just as you do"},{"text":" ","type":"text"},{"text":"after ","type":"text"},{"type":"codeVoice","code":"case"},{"text":" in a switch.","type":"text"}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["do {","    let printerResponse = try send(job: 1440, toPrinter: \"Gutenberg\")","    print(printerResponse)","} catch PrinterError.onFire {","    print(\"I'll just put this over here, with the rest of the fire.\")","} catch let printerError as PrinterError {","    print(\"Printer error: \\(printerError).\")","} catch {","    print(error)","}","\/\/ Prints \"Job sent\""]},{"name":"Experiment","type":"aside","content":[{"type":"paragraph","inlineContent":[{"text":"Add code to throw an error inside the ","type":"text"},{"type":"codeVoice","code":"do"},{"text":" block.","type":"text"},{"type":"text","text":" "},{"text":"What kind of error do you need to throw","type":"text"},{"type":"text","text":" "},{"text":"so that the error is handled by the first ","type":"text"},{"type":"codeVoice","code":"catch"},{"text":" block?","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"What about the second and third blocks?"}]}],"style":"experiment"},{"inlineContent":[{"type":"text","text":"Another way to handle errors"},{"type":"text","text":" "},{"text":"is to use ","type":"text"},{"type":"codeVoice","code":"try?"},{"type":"text","text":" to convert the result to an optional."},{"text":" ","type":"text"},{"type":"text","text":"If the function throws an error,"},{"type":"text","text":" "},{"type":"text","text":"the specific error is discarded and the result is "},{"type":"codeVoice","code":"nil"},{"text":".","type":"text"},{"type":"text","text":" "},{"type":"text","text":"Otherwise, the result is an optional containing"},{"type":"text","text":" "},{"text":"the value that the function returned.","type":"text"}],"type":"paragraph"},{"type":"codeListing","code":["let printerSuccess = try? send(job: 1884, toPrinter: \"Mergenthaler\")","let printerFailure = try? send(job: 1885, toPrinter: \"Never Has Toner\")"],"syntax":"swift"},{"inlineContent":[{"type":"text","text":"Use "},{"code":"defer","type":"codeVoice"},{"text":" to write a block of code","type":"text"},{"text":" ","type":"text"},{"text":"that‚Äôs executed after all other code in the function,","type":"text"},{"type":"text","text":" "},{"text":"just before the function returns.","type":"text"},{"type":"text","text":" "},{"text":"The code is executed regardless of whether the function throws an error.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"You can use "},{"code":"defer","type":"codeVoice"},{"type":"text","text":" to write setup and cleanup code next to each other,"},{"text":" ","type":"text"},{"text":"even though they need to be executed at different times.","type":"text"}],"type":"paragraph"},{"code":["var fridgeIsOpen = false","let fridgeContent = [\"milk\", \"eggs\", \"leftovers\"]","","func fridgeContains(_ food: String) -> Bool {","    fridgeIsOpen = true","    defer {","        fridgeIsOpen = false","    }","","    let result = fridgeContent.contains(food)","    return result","}","if fridgeContains(\"banana\") {","    print(\"Found a banana\")","}","print(fridgeIsOpen)","\/\/ Prints \"false\""],"type":"codeListing","syntax":"swift"},{"text":"Generics","anchor":"Generics","type":"heading","level":2},{"inlineContent":[{"type":"text","text":"Write a name inside angle brackets"},{"type":"text","text":" "},{"type":"text","text":"to make a generic function or type."}],"type":"paragraph"},{"type":"codeListing","code":["func makeArray<Item>(repeating item: Item, numberOfTimes: Int) -> [Item] {","    var result: [Item] = []","    for _ in 0..<numberOfTimes {","         result.append(item)","    }","    return result","}","makeArray(repeating: \"knock\", numberOfTimes: 4)"],"syntax":"swift"},{"type":"paragraph","inlineContent":[{"text":"You can make generic forms of functions and methods,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"as well as classes, enumerations, and structures."}]},{"syntax":"swift","code":["\/\/ Reimplement the Swift standard library's optional type","enum OptionalValue<Wrapped> {","    case none","    case some(Wrapped)","}","var possibleInteger: OptionalValue<Int> = .none","possibleInteger = .some(100)"],"type":"codeListing"},{"inlineContent":[{"type":"text","text":"Use "},{"code":"where","type":"codeVoice"},{"type":"text","text":" right before the body"},{"text":" ","type":"text"},{"type":"text","text":"to specify a list of requirements ‚Äî"},{"type":"text","text":" "},{"type":"text","text":"for example,"},{"type":"text","text":" "},{"text":"to require the type to implement a protocol,","type":"text"},{"text":" ","type":"text"},{"text":"to require two types to be the same,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"or to require a class to have a particular superclass."}],"type":"paragraph"},{"syntax":"swift","type":"codeListing","code":["func anyCommonElements<T: Sequence, U: Sequence>(_ lhs: T, _ rhs: U) -> Bool","    where T.Element: Equatable, T.Element == U.Element","{","    for lhsItem in lhs {","        for rhsItem in rhs {","            if lhsItem == rhsItem {","                return true","            }","        }","    }","   return false","}","anyCommonElements([1, 2, 3], [3])"]},{"style":"experiment","name":"Experiment","type":"aside","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Modify the "},{"type":"codeVoice","code":"anyCommonElements(_:_:)"},{"type":"text","text":" function"},{"text":" ","type":"text"},{"type":"text","text":"to make a function that returns an array"},{"text":" ","type":"text"},{"text":"of the elements that any two sequences have in common.","type":"text"}]}]},{"type":"paragraph","inlineContent":[{"text":"Writing ","type":"text"},{"type":"codeVoice","code":"<T: Equatable>"},{"text":" ","type":"text"},{"text":"is the same as writing ","type":"text"},{"type":"codeVoice","code":"<T> ... where T: Equatable"},{"type":"text","text":"."}]}]}],"hierarchy":{"paths":[["doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language"]]},"schemaVersion":{"minor":3,"major":0,"patch":0},"references":{"doc://org.swift.tspl/documentation/The-Swift-Programming-Language":{"type":"topic","identifier":"doc:\/\/org.swift.tspl\/documentation\/The-Swift-Programming-Language","title":"The Swift Programming Language (5.9.2)","url":"\/documentation\/the-swift-programming-language","role":"collection","kind":"article","abstract":[]}}}